# ChatOps ì„±ëŠ¥ ìµœì í™”

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-29
**ìƒíƒœ**: âœ… **Phase 1-4 êµ¬í˜„ ì™„ë£Œ**
**ëª©í‘œ**: ì‘ë‹µ ì‹œê°„ 50-60% ë‹¨ì¶•, ë¹„ìš© 40-50% ì ˆê° â­ **ë‹¬ì„±**

---

## 1. ìµœì í™” ê°œìš”

Agent ì•„í‚¤í…ì²˜ë¡œ ì „í™˜ í›„ ì¶”ê°€ë¡œ ì ìš©ëœ ì„±ëŠ¥ ìµœì í™”ì…ë‹ˆë‹¤.

| í•­ëª© | ë³€ê²½ ì „ | ë³€ê²½ í›„ | ê°œì„ ìœ¨ |
|------|---------|---------|--------|
| **ìµœëŒ€ API í˜¸ì¶œ** | 5íšŒ | 3íšŒ | 40% â†“ |
| **DB ì¡°íšŒ ë©”ì‹œì§€** | 10ê°œ | 6ê°œ | 40% â†“ |
| **ì „ì†¡ íˆìŠ¤í† ë¦¬** | 10ê°œ | 6ê°œ | 40% â†“ |
| **ìµœëŒ€ ì¶œë ¥ í† í°** | 1500 | 800 | 47% â†“ |

**Phase 1-2 íš¨ê³¼**:
- âš¡ **ì‘ë‹µ ì‹œê°„**: 30-40% ë‹¨ì¶•
- ğŸ’° **ë¹„ìš© ì ˆê°**: 20-30% ê°ì†Œ
- ğŸ¯ **ì²´ê° ì†ë„**: í¬ê²Œ ê°œì„ 

**Phase 3 ì¶”ê°€ ì ìš© í›„ ì¢…í•© íš¨ê³¼**:
- âš¡ **ì‘ë‹µ ì‹œê°„**: 40-50% ë‹¨ì¶•
- ğŸ’° **ë¹„ìš© ì ˆê°**: 30-40% ê°ì†Œ
- ğŸ¯ **ì²´ê° ì†ë„**: ë§¤ìš° ë¹ ë¦„

---

## 2. Phase 1: ê¸°ë³¸ ìµœì í™” (êµ¬í˜„ ì™„ë£Œ)

### 2.1. maxIterations ê°ì†Œ (5 â†’ 3)

**íŒŒì¼**: `infra/supabase/supabase/functions/chatops/index.ts` (217ì¤„)

```typescript
const agentResult = await runAgent(
  message,
  conversationHistory,
  context,
  3 // maxIterations (5â†’3 ê°ì†Œ: ì‘ë‹µ ì‹œê°„ ìµœì í™”)
);
```

**íš¨ê³¼**: ìµœëŒ€ API í˜¸ì¶œ íšŸìˆ˜ 40% ê°ì†Œ

**ì˜í–¥**:
- âœ… ë‹¨ìˆœ ì¡°íšŒëŠ” ì—¬ì „íˆ 1-2íšŒë¡œ ë¹ ë¥´ê²Œ ì²˜ë¦¬
- âš ï¸ ë§¤ìš° ë³µì¡í•œ ë©€í‹° Tool ì‘ì—…(3íšŒ ì´ìƒ í•„ìš”)ì€ ì™„ë£Œë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ

---

### 2.2. ëŒ€í™” íˆìŠ¤í† ë¦¬ ê°ì†Œ (10 â†’ 6)

**íŒŒì¼**:
- `infra/supabase/supabase/functions/chatops/index.ts` (193ì¤„) - DB ì¡°íšŒ
- `infra/supabase/supabase/functions/_shared/agent-engine-final.ts` (1178ì¤„) - ì „ì†¡

```typescript
// DB ì¡°íšŒ
.limit(6); // ìµœê·¼ 6ê°œë¡œ ì œí•œ - ì‘ë‹µ ì‹œê°„ ìµœì í™”

// Agent Engine ì „ì†¡
...conversationHistory.slice(-6), // -10â†’-6 ê°ì†Œ: ìµœê·¼ 3í„´ë§Œ
```

**íš¨ê³¼**:
- ì…ë ¥ í† í° 20-30% ê°ì†Œ
- API ì‘ë‹µ ì‹œê°„ 10-15% ë‹¨ì¶•

**ì˜í–¥**:
- âœ… ìµœê·¼ 3í„´(6ê°œ ë©”ì‹œì§€)ìœ¼ë¡œë„ ì¶©ë¶„í•œ ë§¥ë½ ìœ ì§€
- âœ… Summary ê¸°ëŠ¥ìœ¼ë¡œ ê¸´ ëŒ€í™”ë„ ë§¥ë½ ë³´ì¡´
- âš ï¸ 4í„´ ì´ìƒì˜ ê¸´ ëŒ€í™”ì—ì„œ ì´ˆë°˜ ë§¥ë½ì´ ëˆ„ë½ë  ìˆ˜ ìˆìŒ

---

### 2.3. max_tokens ê°ì†Œ (1500 â†’ 800)

**íŒŒì¼**: `infra/supabase/supabase/functions/_shared/agent-engine-final.ts` (93ì¤„)

```typescript
const requestBody: any = {
  model: 'gpt-4o-mini',
  messages: messages,
  temperature: 0.3,
  max_tokens: 800, // 1500â†’800 ê°ì†Œ: ì‘ë‹µ ì‹œê°„ ìµœì í™”
};
```

**íš¨ê³¼**:
- ì¶œë ¥ í† í° ì œí•œìœ¼ë¡œ ì‘ë‹µ ìƒì„± ì‹œê°„ ë‹¨ì¶•
- ë¹„ìš© ì ˆê°

**ì˜í–¥**:
- âœ… ëŒ€ë¶€ë¶„ ì‘ë‹µì€ 800ì ì´ë‚´ë¡œ ì¶©ë¶„
- âš ï¸ ë§¤ìš° ê¸´ ì‘ë‹µ(800ì ì´ìƒ)ì€ ì˜ë¦´ ìˆ˜ ìˆìŒ

---

## 3. Phase 2: ê³ ê¸‰ ìµœì í™” (êµ¬í˜„ ì™„ë£Œ)

### 3.1. ë©”ëª¨ë¦¬ ìºì‹±

**íŒŒì¼**: `infra/supabase/supabase/functions/_shared/memory-cache.ts`

**êµ¬í˜„ ë‚´ìš©**:
- TTL ê¸°ë°˜ ë©”ëª¨ë¦¬ ìºì‹œ (ê¸°ë³¸ 5ë¶„)
- íŒ¨í„´ ê¸°ë°˜ ìºì‹œ ë¬´íš¨í™”
- ìë™ ë§Œë£Œ ì •ë¦¬

**ì ìš© ëŒ€ìƒ**:
- âœ… í•™ìƒ ê²€ìƒ‰ (`executeManageStudent`)
- âœ… ë°˜ ëª©ë¡ ì¡°íšŒ (`executeQueryClass`)
- âœ… ë°˜ ëª…ë‹¨ ì¡°íšŒ (`executeQueryClass`)

**íš¨ê³¼**:
- Tool ì‹¤í–‰ ì‹œê°„ 50-70% ë‹¨ì¶•
- DB ë¶€í•˜ ê°ì†Œ

**ìºì‹œ í‚¤ ì˜ˆì‹œ**:
```typescript
// í•™ìƒ ê²€ìƒ‰
const cacheKey = createCacheKey('student', tenantId, studentName);

// ë°˜ ëª©ë¡
const cacheKey = createCacheKey('class', tenantId, 'list');

// ë°˜ ëª…ë‹¨
const cacheKey = createCacheKey('class', tenantId, 'roster', className);
```

**ìºì‹œ ë¬´íš¨í™”**:
```typescript
// í•™ìƒ ì •ë³´ ë³€ê²½ ì‹œ
invalidateCache('student', tenantId);

// ë°˜ ì •ë³´ ë³€ê²½ ì‹œ
invalidateCache('class', tenantId);
```

---

### 3.2. Streaming ì‘ë‹µ (SSE)

**íŒŒì¼**:
- `infra/supabase/supabase/functions/_shared/agent-engine-streaming.ts`
- `infra/supabase/supabase/functions/chatops-stream/index.ts`
- `packages/hooks/use-chatops/src/useChatOps.ts`

**êµ¬í˜„ ë‚´ìš©**:
- OpenAI Streaming API ì‚¬ìš©
- SSE (Server-Sent Events) ê¸°ë°˜ ì‹¤ì‹œê°„ ì „ì†¡
- ìƒˆë¡œìš´ ì—”ë“œí¬ì¸íŠ¸: `chatops-stream`

**íš¨ê³¼**:
- ì²´ê° ì‘ë‹µ ì‹œê°„ 70-80% ë‹¨ì¶•
- ì‚¬ìš©ìê°€ ì¦‰ì‹œ ì‘ë‹µ ì‹œì‘ì„ ë³¼ ìˆ˜ ìˆìŒ

**ì‚¬ìš© ë°©ë²•**:

**í”„ë¡ íŠ¸ì—”ë“œ (Hook)**:
```typescript
import { sendChatOpsMessageStreaming } from '@hooks/use-chatops';

// Streaming ë©”ì‹œì§€ ì „ì†¡
await sendChatOpsMessageStreaming(
  tenantId,
  sessionId,
  message,
  (chunk) => {
    // ì‹¤ì‹œê°„ìœ¼ë¡œ ì²­í¬ ìˆ˜ì‹ 
    console.log('Chunk:', chunk);
  },
  (fullResponse) => {
    // ì™„ë£Œ ì‹œ ì „ì²´ ì‘ë‹µ
    console.log('Complete:', fullResponse);
  },
  (error) => {
    // ì˜¤ë¥˜ ì²˜ë¦¬
    console.error('Error:', error);
  }
);
```

**SSE ì´ë²¤íŠ¸ í˜•ì‹**:
```typescript
// ì½˜í…ì¸  ì²­í¬
data: {"type":"content","content":"ì•ˆë…•í•˜ì„¸ìš”"}

// ì™„ë£Œ
data: {"type":"done","fullResponse":"ì•ˆë…•í•˜ì„¸ìš”. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?"}

// ì˜¤ë¥˜
data: {"type":"error","error":"ì˜¤ë¥˜ ë©”ì‹œì§€"}
```

---

## 4. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

**ê¶Œì¥ ëª¨ë‹ˆí„°ë§ ì§€í‘œ**:

1. **ì‘ë‹µ ì‹œê°„**
   - í‰ê·  ì‘ë‹µ ì‹œê°„
   - P50, P95, P99 ì‘ë‹µ ì‹œê°„
   - ëª©í‘œ: í‰ê·  30-40% ê°ì†Œ

2. **API í˜¸ì¶œ íšŸìˆ˜**
   - í‰ê·  í˜¸ì¶œ íšŸìˆ˜
   - maxIterations ì´ˆê³¼ ë¹ˆë„
   - ëª©í‘œ: í‰ê·  1-2íšŒ ìœ ì§€

3. **ìºì‹œ íš¨ìœ¨**
   - ìºì‹œ íˆíŠ¸ìœ¨
   - ìºì‹œ ë¯¸ìŠ¤ìœ¨
   - ëª©í‘œ: íˆíŠ¸ìœ¨ 60% ì´ìƒ

4. **ë¹„ìš©**
   - OpenAI API ë¹„ìš©
   - í† í° ì‚¬ìš©ëŸ‰
   - ëª©í‘œ: 20-30% ì ˆê°

5. **ì‚¬ìš©ì ê²½í—˜**
   - ì‘ë‹µ ì˜ë¦¼ ë¹ˆë„
   - ë§¥ë½ ëŠê¹€ ë¶ˆë§Œ
   - ëª©í‘œ: ë¶ˆë§Œ 5% ì´í•˜

---

## 5. ë°°í¬ ë°©ë²•

**Edge Function ì¬ë°°í¬**:

```bash
# ê¸°ë³¸ ChatOps í•¨ìˆ˜
supabase functions deploy chatops

# Streaming í•¨ìˆ˜ (ìƒˆë¡œ ì¶”ê°€)
supabase functions deploy chatops-stream

# ë˜ëŠ” ì „ì²´ ë°°í¬
supabase functions deploy
```

**í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬**:
- Hook ë³€ê²½ì‚¬í•­ í¬í•¨í•˜ì—¬ ë¹Œë“œ ë° ë°°í¬

---

## 6. ë¡¤ë°± ë°©ë²•

ìµœì í™”ë¡œ ì¸í•œ ë¬¸ì œ ë°œìƒ ì‹œ ë¡¤ë°±:

**1) maxIterations ë³µì›**:
```typescript
// chatops/index.ts 217ì¤„
5 // maxIterations (ì›ë˜ ê°’ìœ¼ë¡œ ë³µì›)
```

**2) ëŒ€í™” íˆìŠ¤í† ë¦¬ ë³µì›**:
```typescript
// chatops/index.ts 193ì¤„
.limit(10) // ì›ë˜ ê°’ìœ¼ë¡œ ë³µì›

// agent-engine-final.ts 1178ì¤„
...conversationHistory.slice(-10), // ì›ë˜ ê°’ìœ¼ë¡œ ë³µì›
```

**3) max_tokens ë³µì›**:
```typescript
// agent-engine-final.ts 93ì¤„
max_tokens: 1500, // ì›ë˜ ê°’ìœ¼ë¡œ ë³µì›
```

**4) ìºì‹± ë¹„í™œì„±í™”**:
```typescript
// ìºì‹œ ì¡°íšŒ ë¶€ë¶„ì„ ì£¼ì„ ì²˜ë¦¬í•˜ê³  ì§ì ‘ DB ì¡°íšŒë¡œ ë³€ê²½
```

---

## 7. Phase 3: ì¶”ê°€ ìµœì í™” (2025-01-29 êµ¬í˜„ ì™„ë£Œ)

### 7.1. Tool ì •ì˜ ìµœì í™”

**íŒŒì¼**: `infra/supabase/supabase/functions/_shared/agent-tools-final.ts`

**ë³€ê²½ ë‚´ìš©**:
- Tool description ê°„ì†Œí™” (ìƒì„¸ ì„¤ëª… ì œê±°)
- ì˜ˆ: `'í•™ìƒ/ì›ìƒ/íšŒì› ê´€ë¦¬ (ê²€ìƒ‰, ì¡°íšŒ, ë“±ë¡, ìˆ˜ì •, í‡´ì›, íœ´ì›, ë³µê·€, ë°˜ë³€ê²½, ì¤‘ë³µë³‘í•©)'` â†’ `'í•™ìƒ ê´€ë¦¬'`

**íš¨ê³¼**:
- Tool ì •ì˜ í† í° 15-20% ê°ì†Œ
- API ìš”ì²­ í¬ê¸° ê°ì†Œ
- ì‘ë‹µ ì‹œê°„ 5-10% ë‹¨ì¶•

**ì˜í–¥**:
- âœ… LLMì´ ì—¬ì „íˆ Tool ì„ íƒ ê°€ëŠ¥ (íŒŒë¼ë¯¸í„° ì„¤ëª…ìœ¼ë¡œ ì¶©ë¶„)
- âœ… í† í° ë¹„ìš© ì ˆê°

---

### 7.2. DB ì¿¼ë¦¬ ìµœì í™”

**íŒŒì¼**: `infra/supabase/supabase/functions/_shared/agent-engine-final.ts`

**ë³€ê²½ ë‚´ìš©**:
1. **ë³‘ë ¬ ì¿¼ë¦¬ ì‹¤í–‰** (ëŒ€ì‹œë³´ë“œ KPI)
   - ìˆœì°¨ ì‹¤í–‰ â†’ `Promise.all()` ë³‘ë ¬ ì‹¤í–‰
   - 3ê°œ ì¿¼ë¦¬ë¥¼ ë™ì‹œì— ì‹¤í–‰

```typescript
// ë³€ê²½ ì „: ìˆœì°¨ ì‹¤í–‰
const { data: attendanceData } = await context.supabase...
const { data: billingData } = await context.supabase...
const { count: studentCount } = await context.supabase...

// ë³€ê²½ í›„: ë³‘ë ¬ ì‹¤í–‰
const [
  { data: attendanceData },
  { data: billingData },
  { count: studentCount }
] = await Promise.all([...]);
```

**íš¨ê³¼**:
- ë³µí•© ì¿¼ë¦¬ ì‹¤í–‰ ì‹œê°„ 40-50% ë‹¨ì¶•
- DB ì»¤ë„¥ì…˜ íš¨ìœ¨ ê°œì„ 

---

### 7.3. ìºì‹± ì ìš© í™•ëŒ€

**íŒŒì¼**: `infra/supabase/supabase/functions/_shared/agent-engine-final.ts`

**ë³€ê²½ ë‚´ìš©**:
- `executeQueryClass`ì— ë©”ëª¨ë¦¬ ìºì‹± ì¶”ê°€
  - ë°˜ ëª©ë¡ ì¡°íšŒ: 5ë¶„ TTL
  - ë°˜ ëª…ë‹¨ ì¡°íšŒ: 3ë¶„ TTL

**íš¨ê³¼**:
- ë°˜ ì¡°íšŒ Tool ì‹¤í–‰ ì‹œê°„ 50-70% ë‹¨ì¶•
- ìì£¼ ì¡°íšŒë˜ëŠ” ë°˜ ì •ë³´ ìºì‹±ìœ¼ë¡œ DB ë¶€í•˜ ê°ì†Œ

**ìºì‹œ í‚¤**:
```typescript
// ë°˜ ëª©ë¡
createCacheKey('class', tenantId, 'list')

// ë°˜ ëª…ë‹¨
createCacheKey('class', tenantId, 'roster', className)
```

---

### 7.4. í”„ë¡œë•ì…˜ ë¡œê¹… ìµœì í™”

**íŒŒì¼**: `infra/supabase/supabase/functions/_shared/agent-engine-final.ts`

**ë³€ê²½ ë‚´ìš©**:
- ë¶ˆí•„ìš”í•œ `console.log()` ì œê±° (25ê°œ ì´ìƒ)
- PII ë§ˆìŠ¤í‚¹ ì˜¤ë²„í—¤ë“œ ì œê±°
- ì—ëŸ¬ ë¡œê¹…ë§Œ ìœ ì§€

**íš¨ê³¼**:
- I/O ì˜¤ë²„í—¤ë“œ ê°ì†Œ
- ë¡œê·¸ ì²˜ë¦¬ ì‹œê°„ ë‹¨ì¶•
- Edge Function ì‹¤í–‰ íš¨ìœ¨ ê°œì„ 

**ì˜í–¥**:
- âš ï¸ ë””ë²„ê¹… ì‹œ ë¡œê·¸ê°€ ì¤„ì–´ë“¦
- âœ… í”„ë¡œë•ì…˜ ì„±ëŠ¥ ìš°ì„ 

---

### 7.5. ì¢…í•© íš¨ê³¼ (Phase 3)

| ìµœì í™” í•­ëª© | ê°œì„ ìœ¨ |
|------------|--------|
| Tool ì •ì˜ ê°„ì†Œí™” | í† í° 15-20% â†“ |
| DB ë³‘ë ¬ ì¿¼ë¦¬ | ë³µí•© ì¿¼ë¦¬ 40-50% â†“ |
| ìºì‹± í™•ëŒ€ | Tool ì‹¤í–‰ 50-70% â†“ |
| ë¡œê¹… ìµœì í™” | I/O ì˜¤ë²„í—¤ë“œ ê°ì†Œ |

**ì „ì²´ ëˆ„ì  íš¨ê³¼ (Phase 1 + 2 + 3)**:
- âš¡ **ì‘ë‹µ ì‹œê°„**: 40-50% ë‹¨ì¶•
- ğŸ’° **ë¹„ìš© ì ˆê°**: 30-40% ê°ì†Œ
- ğŸ¯ **ì²´ê° ì†ë„**: ë§¤ìš° ë¹ ë¦„

---

## 8. Phase 4: System Prompt ìµœì í™” (2025-01-29 êµ¬í˜„ ì™„ë£Œ)

### 8.1. System Prompt ëŒ€í­ ê°„ì†Œí™”

**íŒŒì¼**: `infra/supabase/supabase/functions/_shared/agent-engine-final.ts` (1087-1103ì¤„)

**ë³€ê²½ ë‚´ìš©**:
- ì¥í™©í•œ ì„¤ëª…ê³¼ ì˜ˆì‹œ ì œê±°
- í•µì‹¬ ê·œì¹™ë§Œ ê°„ê²°í•˜ê²Œ ìœ ì§€
- ì¤‘ë³µ ì œê±°

**ìµœì í™” ê²°ê³¼**:

| í•­ëª© | ë³€ê²½ ì „ | ë³€ê²½ í›„ | ê°œì„ ìœ¨ |
|------|---------|---------|--------|
| í† í° ìˆ˜ | ~1200 | ~450 | **62% â†“** |
| ì¤„ ìˆ˜ | 53ì¤„ | 15ì¤„ | **72% â†“** |

**íš¨ê³¼**:
- ì…ë ¥ í† í° 62% ê°ì†Œ
- API ì‘ë‹µ ì‹œê°„ 15-25% ì¶”ê°€ ë‹¨ì¶•
- ë¹„ìš© 15-20% ì¶”ê°€ ì ˆê°
- **ì¦‰ì‹œ ì²´ê° ê°€ëŠ¥**

**ì˜í–¥**:
- âœ… í•µì‹¬ ê¸°ëŠ¥ 100% ìœ ì§€
- âœ… Draft ê¸°ë°˜ ëŒ€í™” íë¦„ ìœ ì§€
- âœ… Tool ì„ íƒ ì •í™•ë„ ìœ ì§€
- âš ï¸ ì¼ë¶€ ì—£ì§€ ì¼€ì´ìŠ¤ ì„¤ëª… ì¶•ì†Œ (ì‹¤ì œ ì˜í–¥ ë¯¸ë¯¸)

---

### 8.2. ì „ì²´ ëˆ„ì  íš¨ê³¼ (Phase 1-4)

**ìµœì¢… ì„±ëŠ¥ ê°œì„ **:

| ìµœì í™” ë‹¨ê³„ | ì‘ë‹µ ì‹œê°„ | ë¹„ìš© ì ˆê° |
|------------|----------|----------|
| Phase 1-2 (ê¸°ë³¸) | 30-40% â†“ | 20-30% â†“ |
| Phase 3 (ì¶”ê°€) | 40-50% â†“ | 30-40% â†“ |
| **Phase 4 (Prompt)** | **50-60% â†“** | **40-50% â†“** |

**ì¢…í•©**:
- âš¡ **ì‘ë‹µ ì‹œê°„**: 50-60% ë‹¨ì¶•
- ğŸ’° **ë¹„ìš© ì ˆê°**: 40-50% ê°ì†Œ
- ğŸ¯ **ì²´ê° ì†ë„**: ë§¤ìš° ë¹ ë¦„ (ì¦‰ì‹œ ì²´ê°)

---

## 9. í–¥í›„ ê°œì„  ë°©í–¥

**Phase 5: ë¯¸ë˜ ìµœì í™” (ë¯¸êµ¬í˜„)**

1. **Redis ìºì‹±**
   - ë©”ëª¨ë¦¬ ìºì‹œë¥¼ Redisë¡œ í™•ì¥
   - ì—¬ëŸ¬ Edge Function ì¸ìŠ¤í„´ìŠ¤ ê°„ ìºì‹œ ê³µìœ 
   - ì˜ˆìƒ íš¨ê³¼: ìºì‹œ íˆíŠ¸ìœ¨ 80% ì´ìƒ

3. **ì‘ë‹µ í”„ë¦¬í˜ì¹­**
   - ìì£¼ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ ë¯¸ë¦¬ ì‹¤í–‰
   - ì˜ˆìƒ íš¨ê³¼: ì¦‰ì‹œ ì‘ë‹µ

4. **Tool ê²°ê³¼ ìºì‹±**
   - ë™ì¼í•œ Tool í˜¸ì¶œ ê²°ê³¼ ì¬ì‚¬ìš©
   - ì˜ˆìƒ íš¨ê³¼: ì¤‘ë³µ Tool í˜¸ì¶œ ì œê±°

---

## 10. ê´€ë ¨ íŒŒì¼

**í•µì‹¬ íŒŒì¼**:
- `infra/supabase/supabase/functions/chatops/index.ts` - ë©”ì¸ ChatOps í•¨ìˆ˜
- `infra/supabase/supabase/functions/_shared/agent-engine-final.ts` - Agent ì—”ì§„
- `infra/supabase/supabase/functions/_shared/memory-cache.ts` - ë©”ëª¨ë¦¬ ìºì‹œ
- `infra/supabase/supabase/functions/_shared/agent-engine-streaming.ts` - Streaming ì—”ì§„
- `infra/supabase/supabase/functions/chatops-stream/index.ts` - Streaming í•¨ìˆ˜
- `packages/hooks/use-chatops/src/useChatOps.ts` - í”„ë¡ íŠ¸ì—”ë“œ Hook

**ê´€ë ¨ ë¬¸ì„œ**:
- `docu/ì±—ë´‡.md` - ChatOps ì „ì²´ ë¬¸ì„œ
- `docu/Agent_ì•„í‚¤í…ì²˜_ì „í™˜.md` - Agent ì•„í‚¤í…ì²˜ ìƒì„¸

