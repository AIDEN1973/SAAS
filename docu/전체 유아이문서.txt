ğŸ“˜ ë””ì–´ìŒ¤ Multi-Tenant SaaS UI/UX Technical Architecture v6.0

Enterprise Edition â€” Zero-Trust Â· Schema-Driven Â· Multi-Tenant Â· Backoffice-Ready Â· Performance-Gated Â· Version-Safe

0. ë¬¸ì„œ ëª©ì  (Purpose)

æœ¬ ë¬¸ì„œëŠ” ë””ì–´ìŒ¤ SaaS í”Œë«í¼ì„ ë‹¤ìŒ ëª©í‘œ ìˆ˜ì¤€ìœ¼ë¡œ ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜í•˜ê¸° ìœ„í•œ ìµœì¢… UI/UX ê¸°ìˆ  ì•„í‚¤í…ì²˜ ê·œì•½ì´ë‹¤:

âœ” ì—…ì¢… 10 â†’ 100 í™•ì¥
âœ” í…Œë„ŒíŠ¸ 5,000 â†’ 30,000 í™•ì¥
âœ” ê³ ê°ìš© + Backoffice UIë¥¼ í†µí•©ì ìœ¼ë¡œ ìš´ì˜
âœ” ê³ ì„±ëŠ¥(Initial Load â‰¤ 500KB) ìœ ì§€
âœ” ì ‘ê·¼ì„± WCAG 2.1 AAA ëª©í‘œ
âœ” Zero-Trust ê¸°ë°˜ ë³´ì•ˆ ëª¨ë¸
âœ” SDUI ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ ìë™ UI ìƒì„±
âœ” ìŠ¤í‚¤ë§ˆ ë²„ì „ê´€ë¦¬ + ì•ˆì „í•œ ì—…ê·¸ë ˆì´ë“œ
âœ” ëª¨ë“ˆÂ·ì•±Â·ìœ„ì ¯ ê°„ ê°•ë ¥í•œ Isolation
1. Enterprise Architecture Principles (EA-Principles)
ğŸ¯ 1.1 Zero-Trust UI Layer (ê°•í™”ë¨)

UIëŠ” í…Œë„ŒíŠ¸/ì—…ì¢…ì— ëŒ€í•œ ì‹ ë¢°ë¥¼ ê°–ì§€ ì•ŠëŠ”ë‹¤.

Zero-Trust ì›ì¹™:

UIëŠ” ì ˆëŒ€ë¡œ í…Œë„ŒíŠ¸ IDë¥¼ ìƒì„±í•˜ê±°ë‚˜ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.

ì—…ì¢…(Industry Context)ë„ UIê°€ ì§ì ‘ ê²°ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.

ëª¨ë“  ë°ì´í„° ìš”ì²­ì€ @api-sdk/coreë¥¼ í†µí•´ì„œë§Œ ë°œìƒí•œë‹¤.

@api-sdk/coreëŠ” í•­ìƒ ì•„ë˜ 3ê°œë¥¼ í¬í•¨í•˜ì—¬ ìš”ì²­í•œë‹¤:

tenant_id

industry_type

auth token

â¡ UIëŠ” ê¶Œí•œì„ ì¶”ë¡ í•˜ì§€ ì•Šê³ , SDKëŠ” ê¶Œí•œì„ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.
â¡ ê¶Œí•œ ê²°ì •ì€ ì „ë¶€ Supabase RLSê°€ ë§¡ëŠ”ë‹¤.

ğŸ¯ 1.2 Boundary & Isolation (ê°•í™”ë¨)
UI Architecture Boundary
schema-engine  â†’  core-ui  â†’  design-system  â†’  theme-engine
        â†“
(custom widget sandbox)

**Custom Widget Sandbox ê²©ë¦¬ ìˆ˜ì¤€**:
- iframe sandbox ë˜ëŠ” VM ê¸°ë°˜ ì‹¤í–‰ í™˜ê²½ ì‚¬ìš©
- `@api-sdk/core` import ê¸ˆì§€ (ë³´ì•ˆ ê²©ë¦¬)
- ìŠ¤í‚¤ë§ˆ ì—”ì§„ì—ì„œ ì œê³µí•˜ëŠ” ì œí•œëœ APIë§Œ ì ‘ê·¼ ê°€ëŠ¥
- ì—…ì¢…ë³„ ìŠ¤í‚¤ë§ˆ import ê¸ˆì§€ (ë‹¤ë¥¸ ì—…ì¢… ë°ì´í„° ì ‘ê·¼ ë°©ì§€)


ê° ëª¨ë“ˆì€ ë‹¤ìŒì„ ì¹¨ë²”í•  ìˆ˜ ì—†ë‹¤:

ëª¨ë“ˆ	ê¸ˆì§€ì‚¬í•­
schema-engine	Tailwind í´ë˜ìŠ¤ ì§ì ‘ ì‚¬ìš© ê¸ˆì§€
core-ui	ìŠ¤í‚¤ë§ˆ êµ¬ì¡° í•´ì„ ê¸ˆì§€
widgets	@api-sdk/core, ë‹¤ë¥¸ ì—…ì¢… schema import ê¸ˆì§€
apps	@api-sdk/core ìš°íšŒ ê¸ˆì§€ (ì§ì ‘ fetch ê¸ˆì§€)
ğŸ¯ 1.3 Schema-Driven Everything

UI = ìŠ¤í‚¤ë§ˆ
Form = ìŠ¤í‚¤ë§ˆ
Table = ìŠ¤í‚¤ë§ˆ
Validation = ìŠ¤í‚¤ë§ˆ
Field ì¡°ê±´ë¶€ ë¡œì§ = ìŠ¤í‚¤ë§ˆ
ë ˆì´ì•„ì›ƒ(columns/gap) = ìŠ¤í‚¤ë§ˆ â†’ Props í˜•íƒœë¡œ ì „ë‹¬

ì ˆëŒ€ Tailwind í´ë˜ìŠ¤ ë¬¸ìì—´ì„ ìŠ¤í‚¤ë§ˆì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

ğŸ¯ 1.4 Performance Budget Enforcement = Hard Gate

ì„±ëŠ¥ ëª©í‘œëŠ” "ê¶Œì¥"ì´ ì•„ë‹ˆë¼ "í•„ìˆ˜(Gate)"ì´ë‹¤.

**ì„±ëŠ¥ ëª©í‘œ ê·¼ê±°**:
- **Initial Load Bundle â‰¤ 500KB**: ëª¨ë°”ì¼ 4G ê¸°ì¤€ 1.5s FCP(First Contentful Paint)ë¥¼ ë§Œì¡±í•˜ê¸° ìœ„í•œ ìƒí•œì„ 
- **FCP â‰¤ 1.5s**: ì‚¬ìš©ìê°€ ì½˜í…ì¸ ë¥¼ ì¸ì§€í•  ìˆ˜ ìˆëŠ” ìµœì†Œ ì‹œê°„ ê¸°ì¤€
- **TTI â‰¤ 800ms**: ì¸í„°ë™í‹°ë¸Œí•œ ì‚¬ìš©ì ê²½í—˜ì„ ìœ„í•œ ìƒí•œì„ 
- **Interaction Delay â‰¤ 100ms**: ì‚¬ìš©ì ì…ë ¥ì— ëŒ€í•œ ì¦‰ê°ì ì¸ í”¼ë“œë°± ì œê³µ ê¸°ì¤€

Metric	ëª©í‘œ	Gate ë™ì‘	ê·¼ê±°
Initial Load Bundle	â‰¤ 500KB	ì´ˆê³¼ ì‹œ ë¹Œë“œ ì‹¤íŒ¨	ëª¨ë°”ì¼ 4G ê¸°ì¤€ 1.5s FCP ë§Œì¡±
FCP	â‰¤ 1.5s	ì´ˆê³¼ ì‹œ ê²½ê³ 	ì½˜í…ì¸  ì¸ì§€ ê°€ëŠ¥ ìµœì†Œ ì‹œê°„
TTI	â‰¤ 800ms	ì´ˆê³¼ ì‹œ ë¹Œë“œ ì‹¤íŒ¨	ì¸í„°ë™í‹°ë¸Œ ê²½í—˜ ìƒí•œì„ 
Interaction Delay	â‰¤ 100ms	ì´ˆê³¼ ì‹œ ê²½ê³ 	ì¦‰ê°ì ì¸ í”¼ë“œë°± ì œê³µ ê¸°ì¤€

CIì— ì•„ë˜ ë„êµ¬ë¥¼ í†µí•©í•œë‹¤:

Webpack/Next.js Bundle Analyzer

LightHouse CI

Custom JS Bundle Budget Script

ğŸ¯ 1.5 Version-Safe SDUI

ìŠ¤í‚¤ë§ˆ ë²„ì „, í…Œë§ˆ ë²„ì „, ì—…ì¢… ë²„ì „ ëª¨ë‘ version-safe êµ¬ì¡°ë‹¤.

ìŠ¤í‚¤ë§ˆ ì¶©ëŒ ë°œìƒ ì‹œ:

Migration Script ì‹¤í–‰

Legacy Rendererì™€ì˜ ë³‘í–‰ ìš´ì˜ ê¸ˆì§€
(â†’ ì—”í„°í”„ë¼ì´ì¦ˆëŠ” ë²ˆë“¤ ì ˆê°ì„ ìœ„í•´ ë³‘í–‰ ìš´ì˜ì„ ìµœëŒ€í•œ í”¼í•´ì•¼ í•œë‹¤)

2. Module-Level Architecture (ì™„ì „ ì •ë¦¬)
2.1 Monorepo êµ¬ì¡°
/packages
  /core/              # ì—…ì¢… ê³µí†µ Core Platform Layer
    /ui-core/         # ë””ìì¸ ì‹œìŠ¤í…œ + ë°˜ì‘í˜• + ë‹¤í¬ëª¨ë“œ + í™•ëŒ€ë³´ê¸° (ì‹¤ì œ íŒ¨í‚¤ì§€: packages/ui-core)
    /core-tags/       # ê³µí†µ íƒœê¹… ì‹œìŠ¤í…œ
    /core-auth/       # ì¸ì¦
    /core-tenancy/    # í…Œë„Œì‹œ
    /core-billing/    # ê³¼ê¸ˆ
    /core-party/      # íšŒì›/ê³ ê° ê³µí†µ ëª¨ë¸
    /core-calendar/   # ì¼ì •/ì˜ˆì•½/ìˆ˜ì—… ìŠ¤ì¼€ì¤„
    /core-community/  # ê²Œì‹œíŒ/ëŒ“ê¸€/ê³µì§€
    /core-storage/    # íŒŒì¼ ì—…ë¡œë“œ/ê¶Œí•œ
    /core-search/     # Full Text Search
    /core-analytics/  # í†µê³„ íŒŒì´í”„ë¼ì¸
    /core-activity/   # Activity Feed / íƒ€ì„ë¼ì¸ ì´ë²¤íŠ¸ ê¸°ë¡
    /core-consultation/ # ìƒë‹´/ê¸°ë¡ ê´€ë¦¬
    /core-reviews/    # ë¦¬ë·°/í‰ê°€ ì‹œìŠ¤í…œ
    /core-coupons/    # ì¿ í°/í• ì¸ ê´€ë¦¬
    /core-tenancy-referral/ # B2B ì¶”ì²œì¸ ì½”ë“œ
    /core-events/     # ì´ë²¤íŠ¸/í”„ë¡œëª¨ì…˜
    /...              # ê¸°íƒ€ Core ëª¨ë“ˆ
  /design-system      # Tokens, Theme Engine
  /schema-engine      # Renderer + Meta-Schema + Versioning + Custom Widget Registry
  /api-sdk            # Zero-Trust ê¶Œí•œ ì£¼ì… (@api-sdk/core)
  /services/          # DB ì ‘ê·¼ Service Layer
  /hooks/             # React Query ê¸°ë°˜ Hooks
  /lib/               # ê³µí†µ ìœ í‹¸
  /industry/          # ì—…ì¢…ë³„ ëª¨ë“ˆ (í•™ì›/ë¯¸ìš©/ë„¤ì¼/ë¶€ë™ì‚°/ì²´ìœ¡ê´€/ë¹„ì˜ë¦¬)
  /widgets            # ìƒŒë“œë°•ìŠ¤ ìœ„ì ¯ (ê²©ë¦¬)

/admin-ui-kit         # Backoffice ì „ìš© UI Kit (Phase 2+)

/apps
  /academy-admin      # í•™ì› ê´€ë¦¬ì/ì„ ìƒë‹˜ìš©
  /academy-parent     # í•™ë¶€ëª¨ìš©
  /super-admin        # SaaS ë³¸ì‚¬ í”Œë«í¼ ì½˜ì†”
  /public-gateway     # ë¡œê·¸ì¸ ì—†ì´ ì ‘ê·¼í•˜ëŠ” ê²°ì œ/í‚¤ì˜¤ìŠ¤í¬/ê³µê°œ í˜ì´ì§€

2.2 @api-sdk/core (ì‹¤ì œ Zero-Trust ì‹¤í–‰ë¶€)

UIëŠ” ë‹¤ìŒì„ ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤:

fetch

axios

supabase client

ëª¨ë“  ìš”ì²­ì€ @api-sdk/coreì—ì„œë§Œ ìˆ˜í–‰í•œë‹¤.

SDKëŠ” ìë™ìœ¼ë¡œ ë‹¤ìŒì„ ìš”ì²­ì— ì‚½ì…í•œë‹¤:

{
  tenant_id: <tenant_id>,
  industry_type: <industry_type>,
  authorization: <jwt_token>
}


â¡ UIëŠ” "ë¬´ìŠ¨ í…Œë„ŒíŠ¸ì¸ì§€" ë˜ëŠ” "ì–´ë–¤ ì—…ì¢…ì¸ì§€" ì´í•´í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.
â¡ UIê°€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë°ì´í„° ë²”ìœ„ëŠ” RLSê°€ ì±…ì„ì§„ë‹¤.

**@api-sdk/core Error Handling ê·œì¹™**:

ì¸ì¦ ë§Œë£Œ:
- JWT í† í° ë§Œë£Œ ì‹œ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
- 401 Unauthorized ì‘ë‹µ ì‹œ Context ì´ˆê¸°í™” ë° ì¸ì¦ ì¬ìš”êµ¬

í…Œë„ŒíŠ¸ ë³€ê²½:
- Contextì˜ `tenantId` ë³€ê²½ ì‹œ ëª¨ë“  í™œì„± ì¿¼ë¦¬ ìë™ ë¬´íš¨í™” (`invalidateQueries()`)
- ìƒˆë¡œìš´ í…Œë„ŒíŠ¸ ì»¨í…ìŠ¤íŠ¸ë¡œ ìë™ ì¬ìš”ì²­

Industry Mismatch:
- ìš”ì²­í•œ `industry_type`ê³¼ ì‹¤ì œ ë°ì´í„°ì˜ `industry_type` ë¶ˆì¼ì¹˜ ì‹œ ì˜¤ë¥˜ ë°˜í™˜
- RLS ì •ì±…ì— ì˜í•´ ìë™ ì°¨ë‹¨ë˜ë©°, SDKëŠ” ì˜¤ë¥˜ë¥¼ UIì— ì „ë‹¬

ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜:
- ì¼ì‹œì  ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ëŠ” ìë™ ì¬ì‹œë„ (ìµœëŒ€ 3íšŒ)
- ì˜êµ¬ì  ì˜¤ë¥˜ëŠ” Error Boundaryë¡œ ì „ë‹¬í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ í‘œì‹œ

â†’ ëª¨ë“  ì˜¤ë¥˜ ì²˜ë¦¬ëŠ” Zero-Trust ì›ì¹™ì„ ì¤€ìˆ˜í•˜ë©°, UIëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ë§Œ í‘œì‹œí•˜ê³  ê¶Œí•œ ê²°ì •ì€ í•˜ì§€ ì•ŠìŒ

**Edge Function í˜¸ì¶œ ê·œì¹™**:

âš ï¸ ì¤‘ìš”: Edge Function í˜¸ì¶œë„ ë°˜ë“œì‹œ `@api-sdk/core`ë¥¼ í†µí•´ì„œë§Œ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

- UIëŠ” ì ˆëŒ€ ì§ì ‘ `fetch`ë¡œ Edge Functionì„ í˜¸ì¶œí•˜ì§€ ì•ŠìŒ
- `apiClient.post()` ë˜ëŠ” `apiClient.get()`ì„ ì‚¬ìš©í•˜ì—¬ Edge Function í˜¸ì¶œ
- Edge Function ì—”ë“œí¬ì¸íŠ¸ëŠ” `functions/v1/{function-name}` í˜•ì‹ìœ¼ë¡œ ì§€ì •
- `apiClient`ëŠ” ìë™ìœ¼ë¡œ tenant_id, industry_type, JWT í† í°ì„ í¬í•¨í•˜ì—¬ ìš”ì²­

ì˜ˆì‹œ:
```typescript
// âœ… ì˜¬ë°”ë¥¸ ë°©ë²•: @api-sdk/core ì‚¬ìš©
import { apiClient } from '@api-sdk/core';

const response = await apiClient.post<ResponseType>(
  'functions/v1/student-risk-analysis',
  {
    student_id: studentId,
  } as Record<string, unknown>
);

if (response.error) {
  throw new Error(response.error.message || 'ìš”ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
}

return response.data;
```

âŒ ê¸ˆì§€:
```typescript
// âŒ ì˜ëª»ëœ ë°©ë²•: fetch ì§ì ‘ ì‚¬ìš©
const response = await fetch(`${supabaseUrl}/functions/v1/student-risk-analysis`, {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`,
  },
  body: JSON.stringify({ student_id: studentId }),
});
```

2.3 schema-engine â†” core-ui í†µì‹  ë°©ì‹ (ê°•ë ¥í•œ ì •êµí™”)
âŒ ìŠ¤í‚¤ë§ˆì—ì„œ Tailwind ë¬¸ìì—´ ì‚¬ìš© ê¸ˆì§€
âœ” props ê¸°ë°˜ layout ì „ë‹¬

ì˜ˆ:

{
  "form": {
    "layout": {
      "columns": 2,
      "columnGap": "md"
    }
  }
}


ui-coreëŠ” ì´ë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ CSS ë³€ìˆ˜ ê¸°ë°˜ ìŠ¤íƒ€ì¼/í† í°(`var(--spacing-*)`, `var(--color-*)` ë“±)ìœ¼ë¡œ í•´ì„í•˜ì—¬ ì ìš©í•œë‹¤.

â†’ ìŠ¤í‚¤ë§ˆëŠ” ë…¼ë¦¬ì  êµ¬ì¡°ë§Œ, ìŠ¤íƒ€ì¼ì€ core-uië§Œ ë‹´ë‹¹í•œë‹¤.

3. Schema-Driven UI (SDUI) â€” Enterprise ë²„ì „
3.1 Meta-Schema Validation

ìŠ¤í‚¤ë§ˆ êµ¬ì¡°ëŠ” ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ê²€ì¦ëœë‹¤:

ê°œë°œ(local dev)

CI ë¹Œë“œ ë‹¨ê³„

í…Œë„ŒíŠ¸ ë°°í¬ ì‹œ

Schema Registryì— ë“±ë¡ ì‹œì 

ì˜¤ë¥˜ê°€ ë°œê²¬ë˜ë©´ UIëŠ” ëœ¨ê¸° ì „ì— Error Boundaryë¡œ ì•ˆì „ ì¤‘ë‹¨.

3.2 Schema Versioning (ì™„ë²½ ì •ë¦¬)

ê° ìŠ¤í‚¤ë§ˆëŠ” ë‹¤ìŒ í˜•íƒœ:

{
  "version": "2.0.1",
  "minSupportedClient": "1.12.0",
  "entity": "student",
  ...
}

ë²„ì „ ì¶©ëŒ ì²˜ë¦¬:
ì¢…ë¥˜	ì²˜ë¦¬
Schema > Client ì§€ì› ë²„ì „	Client ì—…ë°ì´íŠ¸ ìœ ë„
Client > Schema ë²„ì „	Migration Script ìë™ ì‹¤í–‰
Major upgrade	Legacy renderer ì‚­ì œ + ì‚¬ì „ Migration
3.3 Schema Migration Script (ì‹¤ì „ ì›ì¹™)

Migration ScriptëŠ” ëŸ°íƒ€ì„ì´ ì•„ë‹ˆë¼ ë¹Œë“œ íƒ€ì„ ë˜ëŠ” ë°±ì—”ë“œ ì‹œì ì—ì„œ ì‹¤í–‰í•´ì•¼ í•œë‹¤.

ì´ìœ :

í´ë¼ì´ì–¸íŠ¸ê°€ ë‘ ë²„ì „ ë Œë”ëŸ¬ë¥¼ í¬í•¨í•˜ë©´ ë²ˆë“¤ í¬ê¸° í­ì¦

ì—”í„°í”„ë¼ì´ì¦ˆì—ì„œëŠ” â€œëŸ°íƒ€ì„ ë§ˆì´ê·¸ë ˆì´ì…˜â€ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤

ë•Œë¬¸ì—:

ë¹Œë“œ íƒ€ì„ ë³€í™˜ (ê¶Œì¥)

ìƒˆë¡œìš´ ë²„ì „ì´ Schema Registryì— ë“±ë¡ë  ë•Œ ë³€í™˜

ë°±ì—”ë“œì—ì„œ ìŠ¤í‚¤ë§ˆ ì—…ê·¸ë ˆì´ë“œë¥¼ atomic ì‘ì—…ìœ¼ë¡œ ìˆ˜í–‰

4. Multi-Tenant Theme Engine
4.1 Theme Merge Priority

1. system default tokens (ì‹œìŠ¤í…œ ê¸°ë³¸ í† í°)
2. industry tokens (ì—…ì¢…ë³„ í† í°) - `industry_themes` í…Œì´ë¸”ì—ì„œ ì¡°íšŒ
3. tenant theme override (í…Œë„ŒíŠ¸ë³„ ì˜¤ë²„ë¼ì´ë“œ) - `tenant_theme_overrides` í…Œì´ë¸”ì—ì„œ ì¡°íšŒ
4. dark mode (ë‹¤í¬ëª¨ë“œ) - ì‹œìŠ¤í…œ ì„¤ì • ìë™ ê°ì§€ (`prefers-color-scheme: dark`)
5. high contrast (forced-colors, ì ‘ê·¼ì„±) - ì‹œìŠ¤í…œ ì„¤ì • ìë™ ê°ì§€ (`prefers-contrast: high`) ë˜ëŠ” ìˆ˜ë™ ì„¤ì •

â†’ UIëŠ” ìœ„ ë ˆì´ì–´ì—ì„œ ìˆœì°¨ì ìœ¼ë¡œ overrideë˜ì–´ ìµœì¢… Token Setì„ ì‚¬ìš©í•œë‹¤.

**êµ¬í˜„ ìœ„ì¹˜**:
- Theme Engine: `packages/design-system/src/theme.ts`
- Theme Hook: `packages/ui-core/src/hooks/useTheme.ts`
- CSS ì ìš©: `packages/ui-core/src/utils/applyTheme.ts`

**ì—…ì¢…ë³„ í…Œë§ˆ í† í°**:
- `industry_themes` í…Œì´ë¸”ì—ì„œ ì—…ì¢…ë³„ ìƒ‰ìƒ í† í° ì¡°íšŒ
- í…Œì´ë¸”ì´ ì—†ê±°ë‚˜ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ í…Œë§ˆ ì‚¬ìš© (graceful fallback)

**ë‹¤í¬ëª¨ë“œ ë° High Contrast ìë™ ê°ì§€**:
- `useTheme({ mode: 'auto' })` ì‚¬ìš© ì‹œ ì‹œìŠ¤í…œ ë‹¤í¬ëª¨ë“œ ì„¤ì • ìë™ ê°ì§€
- `useTheme({ highContrast: false })` ì‚¬ìš© ì‹œ ì‹œìŠ¤í…œ High Contrast ì„¤ì • ìë™ ê°ì§€
- ì‹œìŠ¤í…œ ì„¤ì • ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ í…Œë§ˆ ì¬ì ìš©

**ê¸°ë³¸ ìŠ¤íƒ€ì¼ ìˆ˜ì • ìœ„ì¹˜**:
- **ì „ì—­ CSS ë³€ìˆ˜**: `packages/ui-core/src/styles.css` - í°íŠ¸, ê°„ê²©, í¬ê¸°, í…Œë‘ë¦¬ ë°˜ê²½, ê·¸ë¦¼ì ë“± ëª¨ë“  í…Œë„ŒíŠ¸ ê³µí†µ ìŠ¤íƒ€ì¼
  - **í¼ í•„ë“œ ì»´í¬ë„ŒíŠ¸ ë””ìì¸ í† í°**: `styles.css`ì˜ "í¼ í•„ë“œ ì»´í¬ë„ŒíŠ¸ ë””ìì¸ í† í°" ì„¹ì…˜ì—ì„œ Input, Select, DatePicker, Textarea ë“± ëª¨ë“  í¼ í•„ë“œ ì»´í¬ë„ŒíŠ¸ì˜ ìŠ¤íƒ€ì¼ì„ í†µí•© ê´€ë¦¬
  - **ì•„ì´ì½˜ ê´€ë ¨ í† í°**: `--size-icon-sm` (10px), `--size-icon-md` (14px), `--size-icon-base` (16px), `--stroke-width-icon` (1.5), `--stroke-width-icon-thin` (1), `--stroke-width-icon-medium` (2), `--stroke-width-icon-bold` (2), `--stroke-width-icon-bold-sidebar` (3)
  - **íˆ¬ëª…ë„ í† í°**: `--opacity-disabled` (0.5), `--opacity-loading` (0.6), `--opacity-inactive` (0.6), `--opacity-secondary` (0.7), `--opacity-full` (1)
  - **í•„í„° íš¨ê³¼ í† í°**: `--filter-icon-glow` (ì•„ì´ì½˜ ë°œê´‘ íš¨ê³¼, í…Œì´ë¸” ì •ë ¬ ì•„ì´ì½˜ ë“±)
  - **í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸ í† í°**: `--color-table-row-border` (#bec9d3, í…Œì´ë¸” í–‰ê°„ í…Œë‘ë¦¬ ìƒ‰ìƒ), `--letter-spacing-table-header` (0.05em, í…Œì´ë¸” í—¤ë” ê¸€ì ê°„ê²©)
  - **ë ˆì´ì•„ì›ƒ ë„ˆë¹„ í† í°**: `--width-sidebar` (13rem, ì‚¬ì´ë“œë°” ë„ˆë¹„), `--width-sidebar-collapsed` (4.5rem, ì‚¬ì´ë“œë°” ì¶•ì†Œ ë„ˆë¹„), `--width-drawer` (20rem, Drawer ê¸°ë³¸ ë„ˆë¹„), `--width-layer-menu` (ë ˆì´ì–´ ë©”ë‰´ ê¸°ë³¸), `--width-layer-menu-tablet` (íƒœë¸”ë¦¿ ë ˆì´ì–´ ë©”ë‰´), `--width-layer-menu-expanded` (ë ˆì´ì–´ ë©”ë‰´ í™•ì¥)
  - **ë ˆì´ì•„ì›ƒ ê°„ê²© í† í°**: `--spacing-content-top` (64px, ë°”ë””ì™€ ì‚¬ì´ë“œë°” ë™ì¼í•œ ìƒë‹¨ ì—¬ë°±), `--spacing-negative-xs` (-4px, ì‚¬ì´ë“œë°” ë©”ë‰´ í–‰ê°„ ê°„ê²© ì¤„ì´ê¸°ìš©)
  - **íƒ€ì´í¬ê·¸ë˜í”¼ í† í°**: `--letter-spacing-title` (-0.02em, íƒ€ì´í‹€ ê¸€ì ê°„ê²©)
- **ì»´í¬ë„ŒíŠ¸ë³„ ê¸°ë³¸ ìŠ¤íƒ€ì¼**: `packages/ui-core/src/components/*.tsx` - ê° ì»´í¬ë„ŒíŠ¸ì˜ ë ˆì´ì•„ì›ƒ, íŒ¨ë”©, ë§ˆì§„, í˜¸ë²„ íš¨ê³¼ ë“±
  - **ì˜ˆì™¸**: í¼ í•„ë“œ ì»´í¬ë„ŒíŠ¸ëŠ” ê°œë³„ íŒŒì¼ì—ì„œ í•˜ë“œì½”ë”©í•˜ì§€ ì•Šê³ , `styles.css`ì˜ ë””ìì¸ í† í°ë§Œ ì‚¬ìš©
  - **DataTable ì»´í¬ë„ŒíŠ¸**: ì •ë ¬ ê¸°ëŠ¥ ê¸°ë³¸ í™œì„±í™” (sortable ê¸°ë³¸ê°’: true), í•„í„° ì•„ì´ì½˜ í´ë¦­ ì‹œ ì •ë ¬ ê¸°ëŠ¥ ë™ì‘, ëª¨ë“  ìŠ¤íƒ€ì¼ì€ CSS ë³€ìˆ˜ ì‚¬ìš©
- **í…Œë„ŒíŠ¸ë³„ ìƒ‰ìƒ ë³€ê²½**: `packages/ui-core/src/utils/applyTheme.ts` - ìƒ‰ìƒë§Œ ë™ì ìœ¼ë¡œ ë³€ê²½ (ê¸°ë³¸ ìŠ¤íƒ€ì¼ì€ ë³€ê²½í•˜ì§€ ì•ŠìŒ)

**ê¸°ë³¸ ìŠ¤íƒ€ì¼ ìˆ˜ì • ì˜ˆì‹œ**:
- ë²„íŠ¼ íŒ¨ë”© ë³€ê²½: `packages/ui-core/src/components/Button.tsx`ì˜ `sizeStyles` ìˆ˜ì •
- í…Œì´ë¸” í—¤ë” ìŠ¤íƒ€ì¼ ë³€ê²½: `packages/ui-core/src/components/DataTable.tsx`ì˜ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ìˆ˜ì •
- ì „ì—­ ê°„ê²© ë³€ê²½: `packages/ui-core/src/styles.css`ì˜ `--spacing-*` ë³€ìˆ˜ ìˆ˜ì •
- í¼ í•„ë“œ í…Œë‘ë¦¬ ìŠ¤íƒ€ì¼ ë³€ê²½: `packages/ui-core/src/styles.css`ì˜ `--border-width-form-bottom`, `--shadow-form-bottom-*` ë“± í¼ í•„ë“œ ë””ìì¸ í† í° ìˆ˜ì •

**í¼ í•„ë“œ ì»´í¬ë„ŒíŠ¸ ë””ìì¸ í† í° (ì¼ê´€ì„± ê´€ë¦¬)**:
- ëª¨ë“  í¼ í•„ë“œ ì»´í¬ë„ŒíŠ¸(Input, Select, DatePicker, Textarea)ëŠ” `styles.css`ì˜ ë””ìì¸ í† í°ì„ í†µí•´ ì¼ê´€ì„± ìˆê²Œ ê´€ë¦¬ë¨
- í…Œë‘ë¦¬ ë‘ê»˜, ìƒ‰ìƒ, í¬ì»¤ìŠ¤ íš¨ê³¼ ë“± ëª¨ë“  ìŠ¤íƒ€ì¼ì´ CSS ë³€ìˆ˜ë¡œ í†µí•© ê´€ë¦¬
- ë ˆì´ì•„ì›ƒ ì´ë™ ë°©ì§€: `border-bottom`ì€ í•­ìƒ ê³ ì • ë‘ê»˜ë¡œ ìœ ì§€í•˜ê³ , ì‹œê°ì  íš¨ê³¼ëŠ” `box-shadow`ë¡œ êµ¬í˜„
- ì—ëŸ¬ ìƒ‰ìƒ, ë¹„í™œì„±í™” ìƒ‰ìƒ ë“±ë„ ë””ìì¸ í† í°ìœ¼ë¡œ í†µí•© ê´€ë¦¬

â†’ ìƒì„¸ ê°€ì´ë“œ: `docu/ì»´í¬ë„ŒíŠ¸_ê¸°ë³¸_ìŠ¤íƒ€ì¼_ìˆ˜ì •_ê°€ì´ë“œ.md` ì°¸ì¡° (í¼ í•„ë“œ ì»´í¬ë„ŒíŠ¸ ë””ìì¸ í† í° ìƒì„¸ ê°€ì´ë“œ í¬í•¨)

5. UI Kit Strategy â€” Customer vs Backoffice

**Customer UI vs Admin UI ë¹„êµí‘œ**:

í•­ëª©	Customer UI (core-ui)	Admin UI (admin-ui-kit)
Data Density	ë‚®ìŒ (ê°€ë…ì„± ìš°ì„ )	ë†’ìŒ (ì •ë³´ ë°€ë„ ìµœëŒ€í™”)
Interaction	ì‹œê° ì¤‘ì‹¬ (ì• ë‹ˆë©”ì´ì…˜, ì¸í„°ë™ì…˜ í’ë¶€)	ì‘ì—… íš¨ìœ¨ ì¤‘ì‹¬ (ë‹¨ì¶•í‚¤, ë¹ ë¥¸ ì•¡ì…˜)
Table ê¸°ëŠ¥	ìµœì†Œ (ê¸°ë³¸ ì •ë ¬, í•„í„°ë§)	ê³ ê¸‰ (pivot, grouping, ê°€ìƒí™”, ë‹¤ì¤‘ ì •ë ¬)
ë°˜ì‘í˜•	ëª¨ë°”ì¼ ì¤‘ì‹¬ (ëª¨ë°”ì¼ ìš°ì„  ì„¤ê³„)	ë°ìŠ¤í¬í†± ì¤‘ì‹¬ (ëŒ€í˜• í™”ë©´ ìµœì í™”)
ì‹œê°ì  ì™„ì„±ë„	ë†’ìŒ (ë¸Œëœë“œ ì¼ê´€ì„±, ì• ë‹ˆë©”ì´ì…˜)	ì¤‘ê°„ (ê¸°ëŠ¥ì„± ìš°ì„ , ìµœì†Œí•œì˜ ìŠ¤íƒ€ì¼ë§)
ì‚¬ìš©ì íƒ€ê²Ÿ	ìµœì¢… ì‚¬ìš©ì (í•™ìƒ, í•™ë¶€ëª¨, ê³ ê°)	ìš´ì˜ì (ê´€ë¦¬ì, ì§ì›, ìš´ì˜íŒ€)
ì ‘ê·¼ì„±	WCAG 2.1 AAA ëª©í‘œ	WCAG 2.1 AA ëª©í‘œ (ë°ì´í„° ë°€ë„ë¡œ ì¸í•œ ì œì•½)

5.1 Customer-Facing UI (core-ui)

ë°˜ì‘í˜• ìµœì í™”

ëª¨ë°”ì¼ ì¤‘ì‹¬

ì‹œê°ì  ì™„ì„±ë„ ìš°ì„ 

ì• ë‹ˆë©”ì´ì…˜Â·ì¸í„°ë™ì…˜ í’ë¶€

5.2 Backoffice (admin-ui-kit)

ë°ì´í„° ë°€ë„ ë†’ìŒ

ê³ ê¸‰ í…Œì´ë¸” ê¸°ëŠ¥(ê·¸ë£¹í•‘, pivot, ê°€ìƒí™”)

ë‹¨ì¶•í‚¤ ì§€ì›

operator-first ì„¤ê³„

UI íš¨ìœ¨ì„± ìš°ì„ 

ê³µí†µ ìš”ì†Œ:

ë™ì¼ SDUI ì—”ì§„ ì‚¬ìš©

ë™ì¼ Token Engine ì‚¬ìš©

ë™ì¼ Versioning ì „ëµ ì ìš©

6. Responsive UX â€” Enterprise Version

6-0. ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸ í‘œì¤€ (Critical)

âš ï¸ ì¤‘ìš”: ëª¨ë“  ë°˜ì‘í˜• êµ¬í˜„ì€ ë‹¤ìŒ Tailwind í‘œì¤€ ë¸Œë ˆì´í¬í¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

ë¸Œë ˆì´í¬í¬ì¸íŠ¸ ìˆ˜ì¹˜ (ê³ ì • ê°’):

| ë¸Œë ˆì´í¬í¬ì¸íŠ¸ | ìµœì†Œ ë„ˆë¹„ | ìš©ë„ |
|--------------|----------|------|
| xs (ê¸°ë³¸) | 0px | ëª¨ë°”ì¼ (ê¸°ë³¸) |
| sm | 640px | í° ëª¨ë°”ì¼ / ì‘ì€ íƒœë¸”ë¦¿ |
| md | 768px | íƒœë¸”ë¦¿ |
| lg | 1024px | ì‘ì€ ë°ìŠ¤í¬í†± |
| xl | 1280px | í° ë°ìŠ¤í¬í†± |

useResponsiveMode() í›… ì‚¬ìš©:

```typescript
// packages/ui-core/src/hooks/useResponsiveMode.ts
export function useResponsiveMode() {
  const [mode, setMode] = useState<'xs' | 'sm' | 'md' | 'lg' | 'xl'>('xs');

  useEffect(() => {
    const updateMode = () => {
      const width = window.innerWidth;
      if (width >= 1280) setMode('xl');
      else if (width >= 1024) setMode('lg');
      else if (width >= 768) setMode('md');
      else if (width >= 640) setMode('sm');
      else setMode('xs');
    };

    updateMode();
    window.addEventListener('resize', updateMode);
    return () => window.removeEventListener('resize', updateMode);
  }, []);

  return mode;
}
```

â†’ ì´ ë¸Œë ˆì´í¬í¬ì¸íŠ¸ ìˆ˜ì¹˜ëŠ” ë””ìì¸íŒ€/í”„ë¡ íŠ¸ì—”ë“œíŒ€/ë°±ì—”ë“œíŒ€ ê°„ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ í‘œì¤€ì…ë‹ˆë‹¤.

6-1. ê¸°ê¸°ë³„ UX íŒ¨í„´

Mobile (xs, sm)

Bottom Action Bar (í‘œì¤€ ëª…ì¹­ìœ¼ë¡œ í†µì¼)

Fullscreen Drawer

Card-first Layout

âš ï¸ ì¤‘ìš”: ëª¨ë°”ì¼ì—ì„œëŠ” ëª¨ë‹¬ ìš°ì„  ì‚¬ìš©
- ê°„ë‹¨í•œ ìˆ˜ì • ì‘ì—…: ëª¨ë‹¬ ì‚¬ìš©
- ë³µì¡í•œ ì‘ì—…: Fullscreen Drawer ì‚¬ìš©
- í˜ì´ì§€ ì „í™˜ì€ ìµœì†Œí™” (ë¶€ìì—°ìŠ¤ëŸ¬ì›€)

Tablet (md)

2-column + Drawer Overlay

âš ï¸ ì¤‘ìš”: íƒœë¸”ë¦¿ì—ì„œëŠ” Drawer ë˜ëŠ” ëª¨ë‹¬ ì‚¬ìš©
- ìˆ˜ì • ì‘ì—…: Drawer Overlay ê¶Œì¥
- ê°„ë‹¨í•œ í™•ì¸/ì•Œë¦¼: ëª¨ë‹¬ ì‚¬ìš©

Desktop (lg, xl)

Multi-panel

High-density table

Persistent Sidebar

âš ï¸ ì¤‘ìš”: ë°ìŠ¤í¬í†±ì—ì„œëŠ” í˜ì´ì§€ ë˜ëŠ” ëª¨ë‹¬ ì„ íƒ ê°€ëŠ¥
- ë³µì¡í•œ ì‘ì—…: í˜ì´ì§€ ì‚¬ìš©
- ê°„ë‹¨í•œ ìˆ˜ì •: ëª¨ë‹¬ ì‚¬ìš©

6-2. ëª¨ë‹¬ vs í˜ì´ì§€ ì„ íƒ ê¸°ì¤€

âš ï¸ ì¤‘ìš”: ëª¨ë“  UI ê°œë°œ ì‹œ ë‹¤ìŒ ê¸°ì¤€ì„ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤.

ëª¨ë‹¬ ì‚¬ìš© ê¸°ì¤€:
1. ê°„ë‹¨í•œ ìˆ˜ì • ì‘ì—… (1-2ë¶„ ì´ë‚´ ì™„ë£Œ ê°€ëŠ¥)
2. ëª©ë¡ì—ì„œ ë¹ ë¥¸ ì•¡ì…˜ (ì¹´ë“œ/í…Œì´ë¸” í–‰ì—ì„œ ì§ì ‘ ìˆ˜ì •)
3. í™•ì¸/ì•Œë¦¼ ë©”ì‹œì§€ (ì‚¬ìš©ì í”¼ë“œë°±)
4. ëª¨ë°”ì¼ í™˜ê²½ (xs, sm) - ëª¨ë“  ìˆ˜ì • ì‘ì—…
5. ë¶€ë¶„ ë°ì´í„° ìˆ˜ì • (ì „ì²´ í¼ì´ ì•„ë‹Œ ì¼ë¶€ í•„ë“œë§Œ)

í˜ì´ì§€ ì‚¬ìš© ê¸°ì¤€:
1. ë³µì¡í•œ ì‘ì—… (5ë¶„ ì´ìƒ ì†Œìš”, ì—¬ëŸ¬ ë‹¨ê³„)
2. ë…ë¦½ì ì¸ ì‘ì—… íë¦„ (ë‹¤ë¥¸ ë°ì´í„° ì°¸ì¡° ë¶ˆí•„ìš”)
3. ë°ìŠ¤í¬í†± í™˜ê²½ (lg, xl)ì—ì„œ ë³µì¡í•œ í¼
4. ìƒì„¸ ì •ë³´ ì¡°íšŒ (ì½ê¸° ì „ìš©, ë§ì€ ì •ë³´ í‘œì‹œ)
5. URL ê³µìœ  í•„ìš” (íŠ¹ì • ë¦¬ì†ŒìŠ¤ ë§í¬ ê³µìœ )

6-3. ì•Œë¦¼/ê²½ê³  ëª¨ë‹¬ ê·œì¹™ (Critical)

[ë¶ˆë³€ ê·œì¹™] ëª¨ë“  ì•Œë¦¼/ê²½ê³ /í™•ì¸ ëŒ€í™”ìƒìëŠ” ì»¤ìŠ¤í…€ ëª¨ë‹¬ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

âŒ ê¸ˆì§€:
- window.alert()
- window.confirm()
- window.prompt()

âœ… í—ˆìš©:
- useModal().showAlert(message, title?, type?)
- useModal().showConfirm(message, title?)
- ì»¤ìŠ¤í…€ Modal ì»´í¬ë„ŒíŠ¸

ì´ìœ :
1. ì¼ê´€ëœ UX: ëª¨ë“  ì•Œë¦¼ì´ ë™ì¼í•œ ë””ìì¸ ì‹œìŠ¤í…œ ì‚¬ìš©
2. ì ‘ê·¼ì„±: ì»¤ìŠ¤í…€ ëª¨ë‹¬ì€ ì ‘ê·¼ì„± ê°œì„  ê°€ëŠ¥
3. ëª¨ë°”ì¼ ìµœì í™”: ëª¨ë°”ì¼ì—ì„œ ë„¤ì´í‹°ë¸Œ alertëŠ” ë¶€ìì—°ìŠ¤ëŸ¬ì›€
4. í…Œë§ˆ ì§€ì›: ë‹¤í¬ëª¨ë“œ, í…Œë„ŒíŠ¸ í…Œë§ˆ ì ìš© ê°€ëŠ¥
5. i18n ì§€ì›: ë‹¤êµ­ì–´ ë©”ì‹œì§€ ì§€ì›

â†’ ìƒì„¸ ê°€ì´ë“œë¼ì¸ì€ `docu/UI_ê°€ì´ë“œë¼ì¸_ëª¨ë‹¬_í˜ì´ì§€_ì„ íƒ.md` ì°¸ì¡°

6-4. PageHeader ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ê·œì¹™ (Critical)

[ë¶ˆë³€ ê·œì¹™] ëª¨ë“  í˜ì´ì§€ëŠ” PageHeader ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¼ê´€ëœ í—¤ë” êµ¬ì¡°ë¥¼ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.

ìœ„ì¹˜: `packages/ui-core/src/components/PageHeader.tsx`

ê¸°ë³¸ ì‚¬ìš©ë²•:

```tsx
<Container maxWidth="xl" padding="lg">
  <PageHeader title="í˜ì´ì§€ ì œëª©" />
  {/* ë‚˜ë¨¸ì§€ ì½˜í…ì¸  */}
</Container>
```

Props:
- `title` (í•„ìˆ˜): í˜ì´ì§€ íƒ€ì´í‹€
- `actions` (ì„ íƒ): íƒ€ì´í‹€ ì˜†ì— í‘œì‹œí•  ì•¡ì…˜ ë²„íŠ¼ë“¤
- `titleSize`: 'xl' | '2xl' | '3xl' (ê¸°ë³¸ê°’: '3xl')
- `titleWeight`: 'bold' | 'extrabold' (ê¸°ë³¸ê°’: 'extrabold')
- `style`: ì¶”ê°€ ìŠ¤íƒ€ì¼ (íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ìš©)

actions prop ì‚¬ìš© ê·œì¹™:
- ë‹¨ì¼ Button: ì§ì ‘ ì „ë‹¬ (PageHeaderê°€ ìë™ìœ¼ë¡œ ê°ì‹¸ëŠ” div ì œê³µ)
- ì—¬ëŸ¬ ìš”ì†Œ: `<div style={{ display: 'flex', gap: 'var(--spacing-sm)' }}>`ë¡œ ê°ì‹¸ì„œ ì „ë‹¬

ë°˜ì‘í˜• ì²˜ë¦¬:
- ëª¨ë°”ì¼ (xs, sm): íƒ€ì´í‹€ê³¼ ì•¡ì…˜ì´ ìë™ìœ¼ë¡œ ì¤„ë°”ê¿ˆë¨
- ë°ìŠ¤í¬í†± (lg, xl): í•œ ì¤„ë¡œ ë°°ì¹˜ë¨

íŠ¹ìˆ˜ ì¼€ì´ìŠ¤:
- íƒœë¸”ë¦¿ ëª¨ë“œì—ì„œ íŠ¹ë³„í•œ í°íŠ¸ í¬ê¸° ìš”êµ¬ì‚¬í•­ì´ ìˆëŠ” ê²½ìš° `style` prop ì‚¬ìš© ê°€ëŠ¥
- ì˜ˆ: AttendancePageì—ì„œ íƒœë¸”ë¦¿ ëª¨ë“œ ì œëª© ìµœì†Œ 24px ìš”êµ¬ì‚¬í•­ ì¶©ì¡±

ì‚¬ìš© ì˜ˆì‹œ:

```tsx
// ê¸°ë³¸ ì‚¬ìš© (íƒ€ì´í‹€ë§Œ)
<PageHeader title="í•™ìƒ ê´€ë¦¬" />

// ì•¡ì…˜ ë²„íŠ¼ í¬í•¨ (ë‹¨ì¼ ë²„íŠ¼)
<PageHeader
  title="ê°•ì‚¬ ê´€ë¦¬"
  actions={
    <Button variant="solid" size="sm" onClick={handleCreate}>
      ê°•ì‚¬ ë“±ë¡
    </Button>
  }
/>

// ì•¡ì…˜ ë²„íŠ¼ í¬í•¨ (ì—¬ëŸ¬ ë²„íŠ¼)
<PageHeader
  title="ë°˜ ê´€ë¦¬"
  actions={
    <div style={{ display: 'flex', gap: 'var(--spacing-sm)' }}>
      <Button variant="outline" size="sm" onClick={handleFilter}>
        í•„í„°
      </Button>
      <Button variant="solid" size="sm" onClick={handleCreate}>
        ë°˜ ìƒì„±
      </Button>
    </div>
  }
/>
```

â†’ ìƒì„¸ ê°€ì´ë“œë¼ì¸ì€ `docu/ì»´í¬ë„ŒíŠ¸ ë””ìì¸.md`ì˜ "PageHeader ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ê°€ì´ë“œ" ì„¹ì…˜ì„ ì°¸ì¡°í•˜ì„¸ìš”.

7. ì„±ëŠ¥ ìµœì í™” â€” Enterprise Version

7.0. React ì„±ëŠ¥ ìµœì í™” íŒ¨í„´

âš ï¸ ì¤‘ìš”: useEffect ì˜ì¡´ì„± ë°°ì—´ ìµœì í™”

useEffectì—ì„œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš°, ì˜ì¡´ì„± ë°°ì—´ì— í•´ë‹¹ ìƒíƒœë¥¼ í¬í•¨í•˜ë©´ ë¶ˆí•„ìš”í•œ ì¬ì‹¤í–‰ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ë¬¸ì œ ìƒí™©**:
```typescript
useEffect(() => {
  const measure = () => {
    setShowTagListToggle(isWrapped);  // ìƒíƒœ ì—…ë°ì´íŠ¸
    setIsTagListExpanded(false);      // ìƒíƒœ ì—…ë°ì´íŠ¸
  };
  // ...
}, [tags, showTagListToggle, isTagListExpanded]);  // âŒ ë¬¸ì œ: ìƒíƒœê°€ ì˜ì¡´ì„±ì— í¬í•¨ë¨
```

**í•´ê²° ë°©ë²•: í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ ì‚¬ìš©**:
```typescript
useEffect(() => {
  const measure = () => {
    // âœ… í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ë¡œ ì´ì „ ê°’ê³¼ ë¹„êµí•˜ì—¬ ë¶ˆí•„ìš”í•œ ìƒíƒœ ì—…ë°ì´íŠ¸ ë°©ì§€
    setShowTagListToggle((prev) => prev !== isWrapped ? isWrapped : prev);
    setIsTagListExpanded((prev) => prev !== false ? false : prev);
  };
  // ...
}, [tags]);  // âœ… ì˜ì¡´ì„± ë°°ì—´ì—ì„œ ìƒíƒœ ì œê±°
```

**ê·œì¹™**:
- useEffect ë‚´ë¶€ì—ì„œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš°, í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ë¥¼ ì‚¬ìš©
- ì˜ì¡´ì„± ë°°ì—´ì—ì„œ ì—…ë°ì´íŠ¸ë˜ëŠ” ìƒíƒœëŠ” ì œê±° (ê°™ì€ ê°’ì´ë©´ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¬´í•œ ë£¨í”„ ìœ„í—˜ ì—†ìŒ)
- í•˜ì§€ë§Œ ì˜ì¡´ì„± ë°°ì—´ì— í¬í•¨í•˜ë©´ ë¶ˆí•„ìš”í•œ ì¬ì‹¤í–‰ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì œê±°

âš ï¸ ì¤‘ìš”: useState lazy initialization íŒ¨í„´

ì´ˆê¸°ê°’ ê³„ì‚°ì´ ë¹„ìš©ì´ í° ê²½ìš° ë˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œì´ í•„ìš”í•œ ê²½ìš°, lazy initializationì„ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤.

**ë¬¸ì œ ìƒí™©**:
```typescript
const getInitialTab = useCallback((): LayerMenuTab => {
  const path = location.pathname;
  // ë³µì¡í•œ ë¡œì§...
  return urlTab || 'info';
}, [location.pathname, urlTab]);

// âŒ ë¬¸ì œ: ë§¤ ë Œë”ë§ˆë‹¤ getInitialTab()ì´ ì‹¤í–‰ë¨ (ì´ˆê¸° ë Œë”ë§ì—ì„œë§Œ í•„ìš”)
const [layerMenuTab, setLayerMenuTab] = useState<LayerMenuTab>(getInitialTab());
```

**í•´ê²° ë°©ë²•: lazy initialization ì‚¬ìš©**:
```typescript
const getInitialTab = useCallback((): LayerMenuTab => {
  const path = location.pathname;
  // ë³µì¡í•œ ë¡œì§...
  return urlTab || 'info';
}, [location.pathname, urlTab]);

// âœ… lazy initialization: ì´ˆê¸° ë Œë”ë§ì—ì„œë§Œ í•¨ìˆ˜ ì‹¤í–‰
const [layerMenuTab, setLayerMenuTab] = useState<LayerMenuTab>(() => getInitialTab());
```

**ê·œì¹™**:
- ì´ˆê¸°ê°’ì´ í•¨ìˆ˜ í˜¸ì¶œ ê²°ê³¼ì¸ ê²½ìš°, lazy initialization ì‚¬ìš©
- ì´ˆê¸°ê°’ ê³„ì‚°ì´ ë¹„ìš©ì´ í° ê²½ìš°, lazy initialization ì‚¬ìš©
- useState(() => ...) íŒ¨í„´ìœ¼ë¡œ ì´ˆê¸° ë Œë”ë§ì—ì„œë§Œ í•¨ìˆ˜ ì‹¤í–‰

âš ï¸ ì¤‘ìš”: ìŠ¤í‚¤ë§ˆ ë©”ëª¨ì´ì œì´ì…˜ íŒ¨í„´

ë™ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ìŠ¤í‚¤ë§ˆ(ì˜ˆ: createStudentFilterSchema)ëŠ” useMemoë¡œ ë©”ëª¨ì´ì œì´ì…˜í•˜ì—¬ ì¤‘ë³µ í˜¸ì¶œì„ ë°©ì§€í•©ë‹ˆë‹¤.

**ë¬¸ì œ ìƒí™©**:
```typescript
// âŒ ë¬¸ì œ: ë§¤ ë Œë”ë§ˆë‹¤ createStudentFilterSchemaê°€ í˜¸ì¶œë¨
const { data: studentFilterSchemaData } = useSchema('student_filter', createStudentFilterSchema(classes || []), 'filter');
const effectiveFilterSchema: FilterSchema = studentFilterSchemaData || createStudentFilterSchema(classes || []);
```

**í•´ê²° ë°©ë²•: useMemoë¡œ ë©”ëª¨ì´ì œì´ì…˜**:
```typescript
// âœ… ìŠ¤í‚¤ë§ˆë¥¼ ë©”ëª¨ì´ì œì´ì…˜í•˜ì—¬ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
const studentFilterSchema = useMemo(() => createStudentFilterSchema(classes || []), [classes]);
const { data: studentFilterSchemaData } = useSchema('student_filter', studentFilterSchema, 'filter');
const effectiveFilterSchema: FilterSchema = studentFilterSchemaData || studentFilterSchema;
```

**ê·œì¹™**:
- ë™ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ìŠ¤í‚¤ë§ˆëŠ” useMemoë¡œ ë©”ëª¨ì´ì œì´ì…˜
- ì˜ì¡´ì„± ë°°ì—´ì— ì‹¤ì œ ì˜ì¡´í•˜ëŠ” ê°’ë§Œ í¬í•¨ (ì˜ˆ: classes)
- useSchemaì™€ fallbackì—ì„œ ë™ì¼í•œ ë©”ëª¨ì´ì œì´ì…˜ëœ ìŠ¤í‚¤ë§ˆ ì¬ì‚¬ìš©

âš ï¸ ì¤‘ìš”: íƒ€ì… ì•ˆì •ì„± íŒ¨í„´

React Queryë‚˜ ìƒíƒœ ê´€ë¦¬ì—ì„œ íƒ€ì…ì´ ë‹¤ë¥¸ ë°ì´í„°ë¥¼ í†µí•© ì²˜ë¦¬í•  ë•ŒëŠ” ëª…ì‹œì  íƒ€ì… ì •ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.

**ë¬¸ì œ ìƒí™©**:
```typescript
const riskAnalysis = newRiskAnalysis || savedRiskAnalysis;  // âŒ íƒ€ì… ë¶ˆì¼ì¹˜ ê°€ëŠ¥
const riskScore = riskAnalysis.risk_score;  // âŒ íƒ€ì… ì˜¤ë¥˜
```

**í•´ê²° ë°©ë²•: íƒ€ì… í†µí•© ë° null ì²´í¬**:
```typescript
// âœ… íƒ€ì… í†µí•© ì²˜ë¦¬
const riskAnalysis = (newRiskAnalysis || savedRiskAnalysis) as {
  risk_score: number;
  risk_level?: 'low' | 'medium' | 'high';
  reasons?: string[];
  recommended_actions?: string[];
  analyzed_at?: string;
  factors?: string[];
  recommendations?: string[];
} | null | undefined;

// âœ… null ì²´í¬ ì¶”ê°€
if (!riskAnalysis || riskAnalysis.risk_score === undefined) {
  return null;
}

// âœ… ì•ˆì „í•œ ì†ì„± ì ‘ê·¼
const riskScore = riskAnalysis.risk_score;
const reasons = riskAnalysis.reasons || riskAnalysis.factors || [];
const recommendedActions = riskAnalysis.recommended_actions || riskAnalysis.recommendations || [];
```

**ê·œì¹™**:
- íƒ€ì…ì´ ë‹¤ë¥¸ ë°ì´í„°ë¥¼ í†µí•©í•  ë•ŒëŠ” ëª…ì‹œì  íƒ€ì… ì •ì˜ ì‚¬ìš©
- null/undefined ì²´í¬ë¥¼ ë¨¼ì € ìˆ˜í–‰
- ì˜µì…”ë„ ì†ì„±ì€ fallback ê°’ ì œê³µ

7.1 Performance Gates (CI/CD)

Bundle Analyzer ìë™ ì‹¤í–‰

Lighthouse CI ìë™ ì‹¤í–‰

ì˜ˆì‚° ì´ˆê³¼ ì‹œ ë¹Œë“œ ì‹¤íŒ¨

7.2 Runtime ìµœì í™”

SDUI memoization

Table virtualization

Suspense + concurrent features

React Query TTL/SWR

tenant ë³€ê²½ ì‹œ invalidateQueries() ìë™ ë°œìƒ

8. Error Handling & Debugging
Error Boundary Layer

Schema Validation Failure

Widget Rendering Failure

Data Fetch Error

Version Mismatch Error

ê° ì¹´í…Œê³ ë¦¬ë§ˆë‹¤ ë‹¤ë¥¸ UI/ë©”ì‹œì§€Â·ë¡œê·¸ê°€ í•„ìš”í•˜ë‹¤.

9. Testing Requirements â€” Hard Gate
ì¢…ë¥˜	ì»¤ë²„ë¦¬ì§€ ìš”êµ¬	ì‹¤íŒ¨ ì‹œ
Unit Test	80% ì´ìƒ	ë¹Œë“œ ì‹¤íŒ¨
SDUI Rendering E2E	ì—…ì¢…ë³„ í•µì‹¬ í™”ë©´ 100%	ë¹Œë“œ ì‹¤íŒ¨
A11Y (Axe-Core)	Critical = 0	ë¹Œë“œ ì‹¤íŒ¨
Visual Regression	ì£¼ìš” í™”ë©´ 100%	ê²½ê³ 

9-1. Public Gateway ë³´ì•ˆ ê·œì•½ (Critical)

âš ï¸ ì¤‘ìš”: Public GatewayëŠ” ë¡œê·¸ì¸ ì—†ì´ ì ‘ê·¼ ê°€ëŠ¥í•œ ê³µê°œ í˜ì´ì§€ì´ë¯€ë¡œ, Front-end ë ˆì´ì–´ì—ì„œë„ ë³´ì•ˆ ê·œì¹™ì„ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤.

ê¸°ìˆ ë¬¸ì„œì˜ ë³´ì•ˆ ê·œì•½ê³¼ ë™ì¼í•œ ì¶œì²˜ë¥¼ ë”°ë¥´ë©°, UI ë ˆì´ì–´ì—ì„œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë³´ì•ˆ ê·œì¹™ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

1. CSRF ë°©ì–´
   - POST ìš”ì²­ ì‹œ CSRF í† í° í•„ìˆ˜
   - í† í°ì€ Public Gateway í† í° ê²€ì¦ APIì—ì„œ ë°œê¸‰
   - í† í° ë§Œë£Œ ì‹œ ìë™ ê°±ì‹  ë˜ëŠ” ì¬ë°œê¸‰ UX ì œê³µ

2. X-Frame-Options / Clickjacking ë°©ì§€
   - iframe ì„ë² ë”© ë°©ì§€ (X-Frame-Options: DENY)
   - iframe í•„ìš” ì‹œ Content-Security-Policy: frame-ancestors 'self' ì ìš©
   - UIì—ì„œ iframe ê°ì§€ ì‹œ ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ

3. í† í° ê²€ì¦ UX
   - Public Gateway í† í° ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ì‹œ ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€
   - í† í° ë§Œë£Œ ì‹œ ìë™ ê°±ì‹  ë˜ëŠ” ì¬ë°œê¸‰ ì•ˆë‚´
   - í† í°ì´ ì—†ëŠ” ê²½ìš° ì ‘ê·¼ ê±°ë¶€ ë©”ì‹œì§€

4. Referrer ìµœì†Œí™”
   - Referrer-Policy: no-referrer ì ìš©
   - ì™¸ë¶€ ë§í¬ í´ë¦­ ì‹œ referrer ì •ë³´ ë…¸ì¶œ ë°©ì§€

5. ì„¸ì…˜/í† í° ìˆ˜ëª… ê´€ë¦¬
   - í† í° ìˆ˜ëª… ì§§ê²Œ ìœ ì§€ (ê¸°ìˆ ë¬¸ì„œ ê·œì¹™ ì¤€ìˆ˜)
   - í† í° ë§Œë£Œ ì „ ìë™ ê°±ì‹  ë˜ëŠ” ê²½ê³  í‘œì‹œ

6. í‚¤ì˜¤ìŠ¤í¬ ëª¨ë“œ (í•´ë‹¹ ì‹œ)
   - ì¼ì • ì‹œê°„ ë¬´ì…ë ¥ ì‹œ ìë™ ì ê¸ˆ (ì˜ˆ: 10ë¶„, KST ê¸°ì¤€)
   - ì ê¸ˆ í•´ì œ ì‹œ PIN/ê´€ë¦¬ì ì¸ì¦ UX ì œê³µ
   - ì ê¸ˆ ìƒíƒœ ì‹œ ëª…í™•í•œ ì•ˆë‚´ ë©”ì‹œì§€

êµ¬í˜„ ì˜ˆì‹œ:

```typescript
// apps/public-gateway/components/SecurePublicPage.tsx
export function SecurePublicPage({ token }: { token: string }) {
  // 1. í† í° ìœ íš¨ì„± ê²€ì‚¬
  const { data: isValid, error } = usePublicGatewayToken(token);

  if (error || !isValid) {
    return <TokenExpiredMessage onRefresh={() => refreshToken()} />;
  }

  // 2. CSRF í† í° ë°œê¸‰
  const { csrfToken } = useCSRFToken(token);

  // 3. iframe ê°ì§€ ë° ê²½ê³ 
  useEffect(() => {
    if (window.self !== window.top) {
      // iframe ë‚´ë¶€ì—ì„œ ì‹¤í–‰ ì¤‘
      showWarning('ì´ í˜ì´ì§€ëŠ” iframeì—ì„œ ì‹¤í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
    }
  }, []);

  return (
    <form onSubmit={handleSubmit}>
      <input type="hidden" name="csrf_token" value={csrfToken} />
      {/* ... */}
    </form>
  );
}
```

â†’ Public Gateway ë³´ì•ˆ ê·œì•½ì˜ ìƒì„¸ ë‚´ìš©ì€ ê¸°ìˆ ë¬¸ì„œì˜ "19-8. Public Gateway/í‚¤ì˜¤ìŠ¤í¬ ë³´ì•ˆ" ì„¹ì…˜ì„ ì°¸ì¡°í•˜ì„¸ìš”.

10. Enterprise-Grade ì¥ì  ì •ë¦¬
í•­ëª©	íš¨ê³¼
Zero-Trust @api-sdk/core	ë³´ì•ˆ ë¬¸ì œ ì›ì²œ ë´‰ì‡„
Meta-Schema Validation	UI ê³ ì¥ ë°©ì§€
SDUI Versioning	ìˆ˜ì²œ í…Œë„ŒíŠ¸ ì•ˆì „ ì—…ê·¸ë ˆì´ë“œ
Custom Widget Sandbox	ì—…ì¢… í™•ì¥ ë¹„ìš© ìµœì†Œí™”
Performance Gates	í•­ìƒ ë¹ ë¥¸ SaaS ìœ ì§€
Backoffice ë¶„ë¦¬	ìš´ì˜ íš¨ìœ¨ ê·¹ëŒ€í™”
Multi-Tenant Theme Engine	ë¸Œëœë“œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ë¹„ìš© ìµœì†Œ
