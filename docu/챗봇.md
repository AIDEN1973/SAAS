9. Intent ì¹´íƒˆë¡œê·¸ (ì „ì²´ 147ê°œ)

âš ï¸ **SSOT**: ì´ ëª©ë¡ì€ packages/chatops-intents/src/registry.tsì˜ Intent Registryë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìë™ ìƒì„±ë©ë‹ˆë‹¤.
- ì½”ë“œ Registryê°€ SSOTì´ë©°, ì´ ë¬¸ì„œëŠ” ì°¸ì¡°ìš©ì…ë‹ˆë‹¤.
- ìƒˆ Intent ì¶”ê°€ ì‹œ: Registryì— ë¨¼ì € ë“±ë¡í•˜ê³ , ì´ ë¬¸ì„œëŠ” ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.

**í‘œê¸° ê·œì¹™:**
- **Level**: L0 (ì¡°íšŒ/ì´ˆì•ˆ), L1 (TaskCard ìƒì„±), L2 (ìŠ¹ì¸ í›„ ì‹¤í–‰)
- **L2 ë¶„ë¥˜**: L2-A (ì•Œë¦¼/ë°œì†¡), L2-B (ë„ë©”ì¸ ë³€ê²½, í˜„ì¬ëŠ” L1ë¡œ ê°•ë“±)
- **Params**: í•µì‹¬ í•„ë“œë§Œ ìš”ì•½ (ìƒì„¸ Zod ìŠ¤í‚¤ë§ˆëŠ” Registry ì°¸ì¡°)
- **Response**: L0 Intentì˜ ì‘ë‹µ êµ¬ì¡° (L1/L2ëŠ” TaskCard ìƒì„±)
- **Event Type**: L2-A Intentì˜ event_type ë§¤í•‘ (AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•¨)

**ğŸ“Š ì „ì²´ í†µê³„ (Registry ê¸°ì¤€):**
- ì´ Intent: **147ê°œ**
- L0 (ì¡°íšŒ/ì´ˆì•ˆ): **58ê°œ** (39.5%)
- L1 (TaskCard ìƒì„±): **18ê°œ** (12.2%)
- L2-A (ì•Œë¦¼/ë°œì†¡): **23ê°œ** (15.6%)
- L2-B (ë„ë©”ì¸ ë³€ê²½): **48ê°œ** (32.7%)
- L2 í•©ê³„: **71ê°œ** (48.3%)
- ë¹„ìœ¨ (L0:L1:L2): **3.2:1:3.9**

**âš ï¸ ì¤‘ìš”: ì‚¬ìš©ì ìš”ì•½ê³¼ ì‹¤ì œ Registry ì°¨ì´**
- ì‚¬ìš©ì ìš”ì•½: ì´ 146ê°œ, L0 ì•½ 62ê°œ, L1 ì•½ 38ê°œ, L2-A ì•½ 28ê°œ, L2-B ì•½ 18ê°œ
- ì‹¤ì œ Registry: ì´ 147ê°œ, L0 58ê°œ, L1 18ê°œ, L2-A 23ê°œ, L2-B 48ê°œ
- **ì£¼ìš” ì°¨ì´**: L1ì´ ì‹¤ì œë¡œëŠ” 18ê°œ(ìš”ì•½ì˜ 38ê°œì™€ 20ê°œ ì°¨ì´), L2-Bê°€ ì‹¤ì œë¡œëŠ” 48ê°œ(ìš”ì•½ì˜ 18ê°œì™€ 30ê°œ ì°¨ì´)

**âœ… í•¸ë“¤ëŸ¬ êµ¬í˜„ ìƒíƒœ (2025-01-27 ê¸°ì¤€)**
- **L0 í•¸ë“¤ëŸ¬**: 58ê°œ ëª¨ë‘ êµ¬í˜„ ì™„ë£Œ
  - ìœ„ì¹˜: `infra/supabase/functions/_shared/l0-handlers.ts`
  - Registry: `l0HandlerRegistry`ì— ë“±ë¡ ì™„ë£Œ
  - í†µí•©: `infra/supabase/functions/chatops/index.ts`ì—ì„œ `getL0Handler()` ì‚¬ìš©
- **L2-A í•¸ë“¤ëŸ¬**: 23ê°œ ëª¨ë‘ êµ¬í˜„ ì™„ë£Œ
  - ìœ„ì¹˜: `infra/supabase/functions/execute-student-task/handlers/*.ts`
  - Registry: `infra/supabase/functions/execute-student-task/handlers/registry.ts`ì— ë“±ë¡ ì™„ë£Œ
  - í†µí•©: `infra/supabase/functions/execute-student-task/index.ts`ì—ì„œ `getHandler()` ì‚¬ìš©
- **ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¤€ìˆ˜**: ëª¨ë“  í•¸ë“¤ëŸ¬ê°€ P0/P1/P2 í•­ëª© ì¤€ìˆ˜ í™•ì¸ ì™„ë£Œ
  - P0: `withTenant()` ì‚¬ìš©, PII ë§ˆìŠ¤í‚¹, Fail-Closed, SSOT ì¤€ìˆ˜
  - P1: ë‚ ì§œ ì²˜ë¦¬(`toKSTDate()`), Policy ê²½ë¡œ SSOT í—¬í¼ í•¨ìˆ˜ ì‚¬ìš©
  - P2: ë ˆì´ì–´ íƒœê·¸, ì¼ê´€ì„±, ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´


## 9-A. ì¶œê²°(Attendance) ë„ë©”ì¸ (23ê°œ)

### ì¡°íšŒ/ì´ˆì•ˆ(L0) - 11ê°œ

#### attendance.query.late (L0)

**ì„¤ëª…**: ì§€ê°í•œ ëŒ€ìƒ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- class_id?: uuid
- date?: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: students, id, name, class_name, late_time, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### attendance.query.by_student (L0)

**ì„¤ëª…**: íŠ¹ì • í•™ìƒì˜ ì¶œê²° ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: records, date, status, time, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### attendance.query.absent (L0)

**ì„¤ëª…**: ê²°ì„í•œ ëŒ€ìƒ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- date?: string - YYYY-MM-DD í˜•ì‹
- include_excused?: boolean

**ì‘ë‹µ í•„ë“œ**: students, id, name, class_name, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### attendance.query.early_leave (L0)

**ì„¤ëª…**: ì¡°í‡´í•œ ëŒ€ìƒ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- date?: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: students, id, name, class_name, leave_time, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### attendance.query.unchecked (L0)

**ì„¤ëª…**: ì¶œê²° ë¯¸ì²´í¬ ëŒ€ìƒ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- date?: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: students, id, name, class_name, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### attendance.query.by_class (L0)

**ì„¤ëª…**: ë°˜ë³„ ì¶œê²° ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- class_id: uuid
- date?: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: records, student_id, student_name, status, time, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### attendance.query.streak_absent (L0)

**ì„¤ëª…**: ì—°ì† ê²°ì„ ëŒ€ìƒ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- streak_days: integer (positive)

**ì‘ë‹µ í•„ë“œ**: students, id, name, class_name, streak_days, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### attendance.query.rate_summary (L0)

**ì„¤ëª…**: ì¶œê²°ë¥  ìš”ì•½ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- group_by?: enum[class, grade]

**ì‘ë‹µ í•„ë“œ**: summary, group_key, group_name, attendance_rate, total_students, overall_rate

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### attendance.query.rate_drop (L0)

**ì„¤ëª…**: ì¶œê²°ë¥  í•˜ë½ ëŒ€ìƒ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- drop_pp: number - í•˜ë½ í¼ì„¼íŠ¸í¬ì¸íŠ¸

**ì‘ë‹µ í•„ë“œ**: students, id, name, class_name, previous_rate, current_rate, drop_pp, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### attendance.query.late_rank (L0)

**ì„¤ëª…**: ì§€ê° ë­í‚¹ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- top_n: integer (positive)

**ì‘ë‹µ í•„ë“œ**: students, id, name, class_name, late_count, rank

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### attendance.query.export_csv (L0)

**ì„¤ëª…**: ì¶œê²° ë°ì´í„° CSV ë‚´ë³´ë‚´ê¸°

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: download_url, expires_at

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ì—…ë¬´í™”(L1) - 4ê°œ

#### attendance.create.notify_guardians_late (L1)

**ì„¤ëª…**: ì§€ê° ëŒ€ìƒ ë³´í˜¸ì ì•Œë¦¼ TaskCard ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- student_ids: array<uuid>
- message_template?: string

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### attendance.task.flag_absence_followup (L1)

**ì„¤ëª…**: ê²°ì„ í›„ì† ì¡°ì¹˜ TaskCard ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD í˜•ì‹
- audience?: enum[class, teacher, all]

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### attendance.task.flag_late_followup (L1)

**ì„¤ëª…**: ì§€ê° í›„ì† ì¡°ì¹˜ TaskCard ìƒì„±

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### attendance.task.create_contact_list (L1)

**ì„¤ëª…**: ì—°ë½ì²˜ ëª©ë¡ ìƒì„± TaskCard

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD í˜•ì‹
- status: enum[absent, late]

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

### ìŠ¹ì¸ ì‹¤í–‰(L2) - 8ê°œ

#### attendance.exec.notify_guardians_late (L2-A)

**ì„¤ëª…**: ì§€ê° ëŒ€ìƒ ë³´í˜¸ì ì•Œë¦¼ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_ids: array<uuid>
- channel?: enum[sms, kakao]

**Event Type**: absence_first_day

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

**ê²½ê³  ì‚¬í•­**:
- ì‹¬ì•¼ ë°œì†¡ ì£¼ì˜
- ëŒ€ëŸ‰ ë°œì†¡ ì‹œ ë¹„ìš© í™•ì¸

---

#### attendance.exec.notify_guardians_absent (L2-A)

**ì„¤ëª…**: ê²°ì„ ëŒ€ìƒ ë³´í˜¸ì ì•Œë¦¼ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD
- student_ids?: array<uuid>
- channel?: enum[sms, kakao]
- template_id?: uuid

**Event Type**: absence_first_day

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

**ê²½ê³  ì‚¬í•­**:
- ì‹¬ì•¼ ë°œì†¡ ì£¼ì˜
- ëŒ€ëŸ‰ ë°œì†¡ ì‹œ ë¹„ìš© í™•ì¸

---

#### attendance.exec.request_reason_message (L2-A)

**ì„¤ëª…**: ê²°ì„ ì‚¬ìœ  ìš”ì²­ ë©”ì‹œì§€ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD
- student_ids?: array<uuid>
- channel?: enum[sms, kakao]
- template_id?: uuid

**Event Type**: absence_first_day

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

**ê²½ê³  ì‚¬í•­**:
- ì‹¬ì•¼ ë°œì†¡ ì£¼ì˜

---

#### attendance.exec.send_staff_summary (L2-A)

**ì„¤ëª…**: ì§ì›ìš© ì¶œê²° ìš”ì•½ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD
- recipients: array<uuid>
- channel: enum[sms, kakao, email]

**Event Type**: announcement_digest

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### attendance.exec.correct_record (L2-B)

**ì„¤ëª…**: ì¶œê²° ê¸°ë¡ ìˆ˜ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- date: string - YYYY-MM-DD í˜•ì‹
- from_status: enum[present, absent, late, early_leave, excused]
- to_status: enum[present, absent, late, early_leave, excused]
- reason?: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### attendance.exec.mark_excused (L2-B)

**ì„¤ëª…**: ì¶œê²° ê¸°ë¡ ì‚¬ìœ  ì²˜ë¦¬ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- date: string - YYYY-MM-DD í˜•ì‹
- reason?: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### attendance.exec.bulk_update (L2-B)

**ì„¤ëª…**: ì¶œê²° ê¸°ë¡ ì¼ê´„ ìˆ˜ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD í˜•ì‹
- updates: array
- student_id: uuid
- to_status: enum[present, absent, late, early_leave, excused]

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### attendance.exec.schedule_recheck (L2-B)

**ì„¤ëª…**: ì¶œê²° ì¬í™•ì¸ ì˜ˆì•½ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD í˜•ì‹
- run_at: string - ISO 8601 í˜•ì‹

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---


## 9-B. ìˆ˜ë‚©/ì²­êµ¬(Billing) ë„ë©”ì¸ (26ê°œ)

### ì¡°íšŒ/ì´ˆì•ˆ(L0) - 10ê°œ

#### billing.query.overdue_month (L0)

**ì„¤ëª…**: ì›”ë³„ ì—°ì²´ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- month: string - YYYY-MM í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: students, id, name, overdue_amount, overdue_days, total_count, total_amount

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### billing.query.overdue_list (L0)

**ì„¤ëª…**: ì—°ì²´ ëª©ë¡ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- min_days?: integer (positive)

**ì‘ë‹µ í•„ë“œ**: students, id, name, overdue_amount, overdue_days, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### billing.query.by_student (L0)

**ì„¤ëª…**: íŠ¹ì • í•™ìƒì˜ ì²­êµ¬ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: invoices, id, month, amount, status, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### billing.query.invoice_status (L0)

**ì„¤ëª…**: ì²­êµ¬ì„œ ìƒíƒœ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- month: string - YYYY-MM í˜•ì‹
- status: enum[issued, unissued, paid, partial]

**ì‘ë‹µ í•„ë“œ**: invoices, id, student_id, student_name, amount, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### billing.query.failed_payments (L0)

**ì„¤ëª…**: ê²°ì œ ì‹¤íŒ¨ ëª©ë¡ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: payments, id, student_id, student_name, amount, failed_at, reason, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### billing.query.refund_candidates (L0)

**ì„¤ëª…**: í™˜ë¶ˆ í›„ë³´ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: candidates, student_id, student_name, refund_amount, reason, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### billing.query.kpi_summary (L0)

**ì„¤ëª…**: ìˆ˜ë‚© KPI ìš”ì•½ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- group_by?: enum[class, grade]

**ì‘ë‹µ í•„ë“œ**: summary, group_key, group_name, total_revenue, collection_rate, overall_revenue, overall_collection_rate

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### billing.query.unissued_invoices (L0)

**ì„¤ëª…**: ë¯¸ë°œí–‰ ì²­êµ¬ì„œ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- month: string - YYYY-MM í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: students, id, name, expected_amount, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### billing.query.partial_payments (L0)

**ì„¤ëª…**: ë¶€ë¶„ ê²°ì œ ëª©ë¡ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: payments, id, student_id, student_name, paid_amount, remaining_amount, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### billing.query.export_statement (L0)

**ì„¤ëª…**: ëª…ì„¸ì„œ ë‚´ë³´ë‚´ê¸°

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- format?: enum[csv, pdf, excel]

**ì‘ë‹µ í•„ë“œ**: download_url, expires_at

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ì—…ë¬´í™”(L1) - 5ê°œ

#### billing.task.flag_overdue_followup (L1)

**ì„¤ëª…**: ì—°ì²´ í›„ì† ì¡°ì¹˜ TaskCard ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- month: string - YYYY-MM í˜•ì‹
- threshold_days?: integer (positive)

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.task.prepare_invoice_batch (L1)

**ì„¤ëª…**: ì²­êµ¬ì„œ ì¼ê´„ ì¤€ë¹„ TaskCard ìƒì„±

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.task.prepare_refund_review (L1)

**ì„¤ëª…**: í™˜ë¶ˆ ê²€í†  TaskCard ìƒì„±

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.task.prepare_payment_link_batch (L1)

**ì„¤ëª…**: ê²°ì œ ë§í¬ ì¼ê´„ ì¤€ë¹„ TaskCard ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- month: string - YYYY-MM í˜•ì‹
- audience?: enum[all, class, grade]
- channel: enum[sms, kakao]

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.task.flag_churn_risk_from_billing (L1)

**ì„¤ëª…**: ìˆ˜ë‚© ê¸°ë°˜ ì´íƒˆ ìœ„í—˜ í”Œë˜ê¹… TaskCard ìƒì„±

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

### ìŠ¹ì¸ ì‹¤í–‰(L2) - 11ê°œ

#### billing.exec.send_payment_link (L2-A)

**ì„¤ëª…**: ê²°ì œ ë§í¬ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- month: string - YYYY-MM í˜•ì‹
- channel?: enum[sms, kakao]

**Event Type**: payment_due_reminder

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### billing.exec.schedule_overdue_notice (L2-A)

**ì„¤ëª…**: ì—°ì²´ ì•ˆë‚´ ì˜ˆì•½ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- month: string - YYYY-MM í˜•ì‹
- send_at: string - ISO 8601 í˜•ì‹
- channel?: enum[sms, kakao]
- template_id?: uuid

**Event Type**: overdue_outstanding_over_limit

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### billing.exec.issue_invoices (L2-B)

**ì„¤ëª…**: ì²­êµ¬ì„œ ë°œí–‰ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- month: string - YYYY-MM í˜•ì‹
- student_ids?: array<uuid>
- pricing_rule_id?: uuid

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.exec.reissue_invoice (L2-B)

**ì„¤ëª…**: ì²­êµ¬ì„œ ì¬ë°œí–‰ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- invoice_ids: array<uuid>

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.exec.record_manual_payment (L2-B)

**ì„¤ëª…**: ìˆ˜ë™ ê²°ì œ ê¸°ë¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- amount: number
- paid_at: string - ISO 8601 í˜•ì‹
- method: enum[cash, transfer, card, other]

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.exec.apply_discount (L2-B)

**ì„¤ëª…**: í• ì¸ ì ìš© ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- month: string - YYYY-MM í˜•ì‹
- amount: number
- reason?: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.exec.apply_refund (L2-B)

**ì„¤ëª…**: í™˜ë¶ˆ ì ìš© ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- amount: number
- reason?: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.exec.create_installment_plan (L2-B)

**ì„¤ëª…**: í• ë¶€ ê³„íš ìƒì„± ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- total_amount: number
- installments: integer (positive)

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.exec.fix_duplicate_invoices (L2-B)

**ì„¤ëª…**: ì¤‘ë³µ ì²­êµ¬ì„œ ìˆ˜ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- month: string - YYYY-MM í˜•ì‹

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.exec.sync_gateway (L2-B)

**ì„¤ëª…**: ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ë™ê¸°í™” ì‹¤í–‰

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### billing.exec.close_month (L2-B)

**ì„¤ëª…**: ì›” ë§ˆê° ì²˜ë¦¬ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- month: string - YYYY-MM í˜•ì‹

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---


## 9-M. ë©”ì‹œì§€/ê³µì§€(Messaging) ë„ë©”ì¸ (22ê°œ)

### ì¡°íšŒ/ì´ˆì•ˆ(L0) - 9ê°œ

#### message.query.sent_log (L0)

**ì„¤ëª…**: ë°œì†¡ ë¡œê·¸ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- channel?: enum[sms, kakao, email]

**ì‘ë‹µ í•„ë“œ**: messages, id, student_id, student_name, channel, sent_at, status, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### message.query.failed_log (L0)

**ì„¤ëª…**: ë°œì†¡ ì‹¤íŒ¨ ë¡œê·¸ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: messages, id, student_id, student_name, channel, failed_at, error, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### message.draft.absence_notice (L0)

**ì„¤ëª…**: ê²°ì„ ì•ˆë‚´ ì´ˆì•ˆ ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- date: string - YYYY-MM-DD í˜•ì‹
- tone?: enum[formal, friendly, casual]

**ì‘ë‹µ í•„ë“œ**: draft, title, body, variables

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### message.draft.overdue_notice (L0)

**ì„¤ëª…**: ì—°ì²´ ì•ˆë‚´ ì´ˆì•ˆ ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- month: string - YYYY-MM í˜•ì‹
- tone?: enum[formal, friendly, casual]

**ì‘ë‹µ í•„ë“œ**: draft, title, body, variables

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### message.draft.general_notice (L0)

**ì„¤ëª…**: ì¼ë°˜ ê³µì§€ ì´ˆì•ˆ ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- title: string
- body_hint: string
- audience: enum[all, class, grade]

**ì‘ë‹µ í•„ë“œ**: draft, title, body, variables

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### message.preview.audience (L0)

**ì„¤ëª…**: ìˆ˜ì‹  ëŒ€ìƒ ë¯¸ë¦¬ë³´ê¸°

**íŒŒë¼ë¯¸í„°**:
- audience: enum[all, class, grade]
- id?: uuid

**ì‘ë‹µ í•„ë“œ**: recipients, student_id, student_name, guardian_name, contact, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### message.preview.template_render (L0)

**ì„¤ëª…**: í…œí”Œë¦¿ ë Œë”ë§ ë¯¸ë¦¬ë³´ê¸°

**íŒŒë¼ë¯¸í„°**:
- template_id: uuid
- sample_student_ids: array<uuid>

**ì‘ë‹µ í•„ë“œ**: samples, student_id, student_name, rendered_text

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### message.draft.payment_link_notice (L0)

**ì„¤ëª…**: ê²°ì œ ë§í¬ ì•ˆë‚´ ì´ˆì•ˆ ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- month: string - YYYY-MM í˜•ì‹
- tone?: enum[formal, friendly, casual]

**ì‘ë‹µ í•„ë“œ**: draft, title, body, variables

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### message.query.variables_check (L0)

**ì„¤ëª…**: í…œí”Œë¦¿ ë³€ìˆ˜ ê²€ì¦

**íŒŒë¼ë¯¸í„°**:
- template_id: uuid

**ì‘ë‹µ í•„ë“œ**: valid, errors, variables

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ì—…ë¬´í™”(L1) - 2ê°œ

#### message.task.prepare_bulk_send (L1)

**ì„¤ëª…**: ì¼ê´„ ë°œì†¡ ì¤€ë¹„ TaskCard ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- audience: enum[all, class, grade]
- channel: enum[sms, kakao, email]
- template_id?: uuid

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### message.task.test_send_request (L1)

**ì„¤ëª…**: í…ŒìŠ¤íŠ¸ ë°œì†¡ ìš”ì²­ TaskCard ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- channel: enum[sms, kakao, email]
- to: string
- text: string

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

### ìŠ¹ì¸ ì‹¤í–‰(L2) - 11ê°œ

#### message.exec.send_to_guardian (L2-A)

**ì„¤ëª…**: ë³´í˜¸ì ë©”ì‹œì§€ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- channel: enum[sms, kakao, email]
- template_id?: uuid
- text?: string
- message_purpose?: enum[absence, overdue, general]

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### message.exec.send_bulk (L2-A)

**ì„¤ëª…**: ì¼ê´„ ë©”ì‹œì§€ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- audience: enum[all, class, grade]
- channel: enum[sms, kakao, email]
- template_id?: uuid
- text?: string
- message_purpose: enum[announcement_urgent, announcement_digest, class_change_or_cancel]

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### message.exec.schedule_bulk (L2-A)

**ì„¤ëª…**: ì¼ê´„ ë©”ì‹œì§€ ì˜ˆì•½ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- send_at: string - ISO 8601 í˜•ì‹
- audience: enum[all, class, grade]
- channel: enum[sms, kakao, email]
- template_id?: uuid
- message_purpose: enum[announcement_urgent, announcement_digest, class_change_or_cancel]

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### message.exec.resend_failed (L2-A)

**ì„¤ëª…**: ì‹¤íŒ¨ ë©”ì‹œì§€ ì¬ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- original_event_type: string

**Event Type**: announcement_urgent

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### message.exec.optout_respect_audit (L2-A)

**ì„¤ëª…**: ìˆ˜ì‹ ê±°ë¶€ ê°ì‚¬ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**Event Type**: announcement_digest

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### message.exec.staff_broadcast (L2-A)

**ì„¤ëª…**: ì§ì› ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- recipients: array<uuid>
- channel: enum[sms, kakao, email]
- text: string

**Event Type**: announcement_urgent

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### message.exec.class_schedule_change_notice (L2-A)

**ì„¤ëª…**: ìˆ˜ì—… ì¼ì • ë³€ê²½ ì•ˆë‚´ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- class_id: uuid
- session_id?: uuid
- channel: enum[sms, kakao, email]

**Event Type**: class_change_or_cancel

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### message.exec.emergency_notice (L2-A)

**ì„¤ëª…**: ê¸´ê¸‰ ê³µì§€ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- audience: enum[all, class, grade]
- channel: enum[sms, kakao, email]
- text: string

**Event Type**: announcement_urgent

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### message.exec.cancel_scheduled (L2-B)

**ì„¤ëª…**: ì˜ˆì•½ ë°œì†¡ ì·¨ì†Œ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- schedule_id: uuid

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### message.exec.create_template (L2-B)

**ì„¤ëª…**: ë©”ì‹œì§€ í…œí”Œë¦¿ ìƒì„± ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- channel: enum[sms, kakao, email]
- title: string
- body: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### message.exec.update_template (L2-B)

**ì„¤ëª…**: ë©”ì‹œì§€ í…œí”Œë¦¿ ìˆ˜ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- template_id: uuid
- patch: object
- title?: string
- body?: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---


## 9-S. í•™ìƒ ë¼ì´í”„ì‚¬ì´í´(Student) ë„ë©”ì¸ (24ê°œ)

### ì¡°íšŒ/ì´ˆì•ˆ(L0) - 7ê°œ

#### student.query.search (L0)

**ì„¤ëª…**: í•™ìƒ ê²€ìƒ‰

**íŒŒë¼ë¯¸í„°**:
- q: string - ê²€ìƒ‰ì–´ (ì´ë¦„, í•™ë²ˆ ë“±)
- limit?: integer (positive) - ìµœëŒ€ ê²°ê³¼ ìˆ˜

**ì‘ë‹µ í•„ë“œ**: students, id, name, class_name, grade, status, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### student.query.profile (L0)

**ì„¤ëª…**: í•™ìƒ í”„ë¡œí•„ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid

**ì‘ë‹µ í•„ë“œ**: student, id, name, grade, class_name, status, guardian_name, guardian_contact

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### student.query.status_list (L0)

**ì„¤ëª…**: ìƒíƒœë³„ í•™ìƒ ëª©ë¡ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- status: enum[active, paused, discharged]
- class_id?: uuid

**ì‘ë‹µ í•„ë“œ**: students, id, name, class_name, status, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### student.query.missing_guardian_contact (L0)

**ì„¤ëª…**: ë³´í˜¸ì ì—°ë½ì²˜ ëˆ„ë½ í•™ìƒ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- scope?: string

**ì‘ë‹µ í•„ë“œ**: students, id, name, class_name, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### student.query.duplicates_suspected (L0)

**ì„¤ëª…**: ì¤‘ë³µ ì˜ì‹¬ í•™ìƒ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from?: string - YYYY-MM-DD í˜•ì‹
- to?: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: duplicates, primary_id, primary_name, duplicate_id, duplicate_name, similarity_score, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### student.query.onboarding_needed (L0)

**ì„¤ëª…**: ì˜¨ë³´ë”© í•„ìš” í•™ìƒ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: students, id, name, registered_at, missing_items, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### student.query.data_quality_scan (L0)

**ì„¤ëª…**: í•™ìƒ ë°ì´í„° í’ˆì§ˆ ê²€ì¦

**íŒŒë¼ë¯¸í„°**:
- fields: array<string>
- scope?: string

**ì‘ë‹µ í•„ë“œ**: issues, student_id, student_name, field, issue_type, severity, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ì—…ë¬´í™”(L1) - 2ê°œ

#### student.task.register_prefill (L1)

**ì„¤ëª…**: í•™ìƒ ë“±ë¡ ì‚¬ì „ ì…ë ¥ TaskCard ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- name: string
- grade?: string
- phone?: string
- guardian_phone?: string
- class_id?: uuid

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.task.collect_documents (L1)

**ì„¤ëª…**: ë¬¸ì„œ ìˆ˜ì§‘ TaskCard ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- doc_type: string

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

### ìŠ¹ì¸ ì‹¤í–‰(L2) - 15ê°œ

#### student.exec.send_welcome_message (L2-A)

**ì„¤ëª…**: ì‹ ê·œ ë“±ë¡ í™˜ì˜ ë©”ì‹œì§€ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- channel: enum[sms, kakao, email]
- template_id?: uuid

**Event Type**: new_member_drop

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### student.exec.request_documents_message (L2-A)

**ì„¤ëª…**: ë¬¸ì„œ ìš”ì²­ ë©”ì‹œì§€ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- channel: enum[sms, kakao, email]
- template_id?: uuid

**Event Type**: new_member_drop

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### student.exec.register (L2-B)

**ì„¤ëª…**: í•™ìƒ ë“±ë¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- form_values: record

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.update_profile (L2-B)

**ì„¤ëª…**: í•™ìƒ í”„ë¡œí•„ ìˆ˜ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- patch: record

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.change_class (L2-B)

**ì„¤ëª…**: ë°˜ ë³€ê²½ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- to_class_id: uuid
- effective_date?: string - YYYY-MM-DD í˜•ì‹

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.pause (L2-B)

**ì„¤ëª…**: í•™ìƒ íœ´ì› ì²˜ë¦¬ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- from: string - YYYY-MM-DD í˜•ì‹
- to?: string - YYYY-MM-DD í˜•ì‹
- reason?: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.resume (L2-B)

**ì„¤ëª…**: í•™ìƒ ì¬ê°œ ì²˜ë¦¬ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.discharge (L2-B)

**ì„¤ëª…**: í•™ìƒ í‡´ì› ì²˜ë¦¬ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- date: string - YYYY-MM-DD í˜•ì‹
- reason?: string
- settlement_mode?: enum[full, partial, none]

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.merge_duplicates (L2-B)

**ì„¤ëª…**: ì¤‘ë³µ í•™ìƒ ë³‘í•© ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- primary_student_id: uuid
- duplicate_student_id: uuid

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.update_guardian_contact (L2-B)

**ì„¤ëª…**: ë³´í˜¸ì ì—°ë½ì²˜ ìˆ˜ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- guardian_name?: string
- guardian_phone?: string
- guardian_email?: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.assign_tags (L2-B)

**ì„¤ëª…**: í•™ìƒ íƒœê·¸ í• ë‹¹ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- tags: array<string>

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.bulk_register (L2-B)

**ì„¤ëª…**: í•™ìƒ ì¼ê´„ ë“±ë¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- rows: array<record>

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.bulk_update (L2-B)

**ì„¤ëª…**: í•™ìƒ ì¼ê´„ ìˆ˜ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- updates: array
- student_id: uuid
- patch: record

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.data_quality_apply_fix (L2-B)

**ì„¤ëª…**: ë°ì´í„° í’ˆì§ˆ ìë™ ìˆ˜ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- job_id: uuid

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### student.exec.reactivate_from_discharged (L2-B)

**ì„¤ëª…**: í‡´ì› í•™ìƒ ì¬í™œì„±í™” ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- date: string - YYYY-MM-DD í˜•ì‹

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---


## 9-C. ë°˜/ìˆ˜ì—…/ì‹œê°„í‘œ(Class/Schedule) ë„ë©”ì¸ (16ê°œ)

### ì¡°íšŒ/ì´ˆì•ˆ(L0) - 6ê°œ

#### class.query.list (L0)

**ì„¤ëª…**: ë°˜ ëª©ë¡ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- active_only?: boolean

**ì‘ë‹µ í•„ë“œ**: classes, id, name, teacher_name, student_count, status, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### class.query.roster (L0)

**ì„¤ëª…**: ë°˜ ëª…ë‹¨ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- class_id: uuid
- date?: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: students, id, name, status, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### schedule.query.today (L0)

**ì„¤ëª…**: ì˜¤ëŠ˜ ì‹œê°„í‘œ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: sessions, id, class_id, class_name, starts_at, ends_at, room, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### schedule.query.by_teacher (L0)

**ì„¤ëª…**: ê°•ì‚¬ë³„ ì‹œê°„í‘œ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- teacher_id: uuid
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: sessions, id, class_id, class_name, starts_at, ends_at, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### schedule.query.by_class (L0)

**ì„¤ëª…**: ë°˜ë³„ ì‹œê°„í‘œ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- class_id: uuid
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: sessions, id, starts_at, ends_at, room, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### schedule.query.export_timetable (L0)

**ì„¤ëª…**: ì‹œê°„í‘œ ë‚´ë³´ë‚´ê¸°

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: download_url, expires_at

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ì—…ë¬´í™”(L1) - 1ê°œ

#### schedule.task.propose_makeup_session (L1)

**ì„¤ëª…**: ë³´ê°• ìˆ˜ì—… ì œì•ˆ TaskCard ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- class_id: uuid
- reason: string
- candidate_slots: array<string> - ISO 8601 í˜•ì‹ ë°°ì—´

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

### ìŠ¹ì¸ ì‹¤í–‰(L2) - 9ê°œ

#### class.exec.create (L2-B)

**ì„¤ëª…**: ë°˜ ìƒì„± ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- name: string
- teacher_id?: uuid
- grade?: string
- capacity?: integer (positive)

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### class.exec.update (L2-B)

**ì„¤ëª…**: ë°˜ ì •ë³´ ìˆ˜ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- class_id: uuid
- patch: record

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### class.exec.close (L2-B)

**ì„¤ëª…**: ë°˜ íì‡„ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- class_id: uuid

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### class.exec.bulk_reassign_teacher (L2-B)

**ì„¤ëª…**: ê°•ì‚¬ ì¼ê´„ ì¬ë°°ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- class_ids: array<uuid>
- teacher_id: uuid

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### schedule.exec.notify_change (L2-A)

**ì„¤ëª…**: ì‹œê°„í‘œ ë³€ê²½ ì•ˆë‚´ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- class_id: uuid
- session_id?: uuid
- channel: enum[sms, kakao, email]

**Event Type**: class_change_or_cancel

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### schedule.exec.add_session (L2-B)

**ì„¤ëª…**: ìˆ˜ì—… ì„¸ì…˜ ì¶”ê°€ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- class_id: uuid
- starts_at: string - ISO 8601 í˜•ì‹
- ends_at: string - ISO 8601 í˜•ì‹
- room?: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### schedule.exec.move_session (L2-B)

**ì„¤ëª…**: ìˆ˜ì—… ì„¸ì…˜ ì´ë™ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- session_id: uuid
- new_starts_at: string - ISO 8601 í˜•ì‹
- new_ends_at: string - ISO 8601 í˜•ì‹

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### schedule.exec.cancel_session (L2-B)

**ì„¤ëª…**: ìˆ˜ì—… ì„¸ì…˜ ì·¨ì†Œ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- session_id: uuid
- reason?: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### schedule.exec.bulk_shift (L2-B)

**ì„¤ëª…**: ì‹œê°„í‘œ ì¼ê´„ ì´ë™ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- class_id: uuid
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- shift_minutes: integer

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---


## 9-N. ìƒë‹´/í•™ìŠµ/ë©”ëª¨ + AI(Notes/AI) ë„ë©”ì¸ (14ê°œ)

### ì¡°íšŒ/ì´ˆì•ˆ(L0) - 7ê°œ

#### note.query.by_student (L0)

**ì„¤ëª…**: í•™ìƒë³„ ìƒë‹´ì¼ì§€ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: notes, id, type, content, created_at, total_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### note.draft.consult_summary (L0)

**ì„¤ëª…**: ìƒë‹´ ìš”ì•½ ì´ˆì•ˆ ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- note_id: uuid
- format: enum[bullets, short, detailed]

**ì‘ë‹µ í•„ë“œ**: summary

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### ai.summarize.student_history (L0)

**ì„¤ëª…**: í•™ìƒ ì´ë ¥ ìš”ì•½

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: summary, attendance_summary, billing_summary, notes_summary

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### ai.generate.followup_message (L0)

**ì„¤ëª…**: í›„ì† ë©”ì‹œì§€ ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- reason: string
- tone?: enum[formal, friendly, casual]

**ì‘ë‹µ í•„ë“œ**: message

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### ai.summarize.class_history (L0)

**ì„¤ëª…**: ë°˜ ì´ë ¥ ìš”ì•½

**íŒŒë¼ë¯¸í„°**:
- class_id: uuid
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: summary, attendance_summary, performance_summary

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### ai.generate.counseling_agenda (L0)

**ì„¤ëª…**: ìƒë‹´ ì•ˆê±´ ì´ˆì•ˆ ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid

**ì‘ë‹µ í•„ë“œ**: agenda

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### ai.query.export_ai_briefing (L0)

**ì„¤ëª…**: AI ë¸Œë¦¬í•‘ ë‚´ë³´ë‚´ê¸°

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: download_url, expires_at

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ì—…ë¬´í™”(L1) - 3ê°œ

#### ai.task.flag_risk_signals (L1)

**ì„¤ëª…**: ìœ„í—˜ ì‹ í˜¸ í”Œë˜ê¹… TaskCard ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- signals: enum[attendance, billing, behavior]

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### ai.task.create_recommendations (L1)

**ì„¤ëª…**: ì¼ì¼ ì¶”ì²œ ìƒì„± TaskCard

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD í˜•ì‹

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### ai.task.bulk_generate_taskcards (L1)

**ì„¤ëª…**: TaskCard ì¼ê´„ ìƒì„± TaskCard

**íŒŒë¼ë¯¸í„°**:
- job_id: uuid

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

### ìŠ¹ì¸ ì‹¤í–‰(L2) - 4ê°œ

#### note.exec.create (L2-B)

**ì„¤ëª…**: ìƒë‹´ì¼ì§€ ìƒì„± ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- type: string
- content: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### note.exec.update (L2-B)

**ì„¤ëª…**: ìƒë‹´ì¼ì§€ ìˆ˜ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- note_id: uuid
- patch: record

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### ai.exec.request_staff_review (L2-A)

**ì„¤ëª…**: ì§ì› ê²€í†  ìš”ì²­ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- topic: string

**Event Type**: consultation_summary_ready

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### ai.exec.escalate_emergency (L2-A)

**ì„¤ëª…**: ê¸´ê¸‰ ì—ìŠ¤ì»¬ë ˆì´ì…˜ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- student_id: uuid
- reason: string

**Event Type**: announcement_urgent

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---


## 9-R. ë¦¬í¬íŠ¸/ëŒ€ì‹œë³´ë“œ(Reports) ë„ë©”ì¸ (10ê°œ)

### ì¡°íšŒ/ì´ˆì•ˆ(L0) - 5ê°œ

#### report.query.dashboard_kpi (L0)

**ì„¤ëª…**: ëŒ€ì‹œë³´ë“œ KPI ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: kpi, total_students, attendance_rate, collection_rate, revenue

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### report.query.attendance_summary (L0)

**ì„¤ëª…**: ì¶œê²° ìš”ì•½ ë¦¬í¬íŠ¸ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- group_by?: enum[class, grade]

**ì‘ë‹µ í•„ë“œ**: summary, total_days, attendance_rate, absent_count, late_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### report.query.billing_summary (L0)

**ì„¤ëª…**: ìˆ˜ë‚© ìš”ì•½ ë¦¬í¬íŠ¸ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- group_by?: enum[class, grade]

**ì‘ë‹µ í•„ë“œ**: summary, total_revenue, collection_rate, overdue_amount, paid_count

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### report.query.export_dataset (L0)

**ì„¤ëª…**: ë°ì´í„°ì…‹ ë‚´ë³´ë‚´ê¸°

**íŒŒë¼ë¯¸í„°**:
- dataset: string
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹
- format: enum[csv, excel, json]

**ì‘ë‹µ í•„ë“œ**: download_url, expires_at

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### report.query.health_snapshot (L0)

**ì„¤ëª…**: í—¬ìŠ¤ ìŠ¤ëƒ…ìƒ· ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD í˜•ì‹

**ì‘ë‹µ í•„ë“œ**: snapshot, system_health, data_quality, performance_metrics

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ì—…ë¬´í™”(L1) - 1ê°œ

#### report.task.prepare_monthly_report (L1)

**ì„¤ëª…**: ì›”ê°„ ë¦¬í¬íŠ¸ ì¤€ë¹„ TaskCard ìƒì„±

**íŒŒë¼ë¯¸í„°**:
- month: string - YYYY-MM í˜•ì‹
- sections: array<string>

**ê¸°ëŠ¥**: ì´ IntentëŠ” TaskCardë¥¼ ìƒì„±í•˜ì—¬ ì—…ë¬´ë¡œ ë“±ë¡í•©ë‹ˆë‹¤. ì‹¤ì œ ì‹¤í–‰ì€ ì‚¬ìš©ìê°€ TaskCardë¥¼ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

### ìŠ¹ì¸ ì‹¤í–‰(L2) - 4ê°œ

#### report.exec.send_report (L2-A)

**ì„¤ëª…**: ë¦¬í¬íŠ¸ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- report_id: uuid
- recipients: array<uuid>
- channel: enum[sms, kakao, email]

**Event Type**: monthly_business_report

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### report.exec.schedule_monthly_report (L2-A)

**ì„¤ëª…**: ì›”ê°„ ë¦¬í¬íŠ¸ ì˜ˆì•½ ë°œì†¡ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- day_of_month: integer
- recipients: array<uuid>
- channel: enum[sms, kakao, email]

**Event Type**: monthly_business_report

âš ï¸ **P0-D2**: ì´ event_typeì€ AUTOMATION_EVENT_CATALOGì— ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ë¯¸ë“±ë¡ ì‹œ Fail-Closedë¡œ ì‹¤í–‰ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤. í•¸ë“¤ëŸ¬ì—ì„œ `assertAutomationEventType()`ì„ í†µí•´ ëŸ°íƒ€ì„ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

**ê¸°ëŠ¥**: ì´ IntentëŠ” ì•Œë¦¼/ë°œì†¡ ê³„ì—´ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Policy ê²½ë¡œëŠ” `getAutomationEventPolicyPath()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ SSOT ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ (`auto_notification.<event_type>.*` í˜•ì‹).

---

#### report.exec.generate_monthly_report (L2-B)

**ì„¤ëª…**: ì›”ê°„ ë¦¬í¬íŠ¸ ìƒì„± ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- month: string - YYYY-MM í˜•ì‹
- sections: array<string>

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### report.exec.generate_daily_brief (L2-B)

**ì„¤ëª…**: ì¼ì¼ ë¸Œë¦¬í•‘ ìƒì„± ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- date: string - YYYY-MM-DD í˜•ì‹

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---


## 9-P. ì •ì±…/ê¶Œí•œ/ì‹œìŠ¤í…œ(System) ë„ë©”ì¸ (10ê°œ)

### ì¡°íšŒ/ì´ˆì•ˆ(L0) - 3ê°œ

#### policy.query.automation_rules (L0)

**ì„¤ëª…**: ìë™í™” ê·œì¹™ ì¡°íšŒ

**ì‘ë‹µ í•„ë“œ**: rules, event_type, enabled, threshold

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### rbac.query.my_permissions (L0)

**ì„¤ëª…**: ë‚´ ê¶Œí•œ ì¡°íšŒ

**ì‘ë‹µ í•„ë“œ**: permissions, role

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

#### system.query.health (L0)

**ì„¤ëª…**: ì‹œìŠ¤í…œ í—¬ìŠ¤ ì²´í¬

**íŒŒë¼ë¯¸í„°**:
- checks?: array<string>

**ì‘ë‹µ í•„ë“œ**: health, status, checks

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë°ì´í„° ì¡°íšŒë§Œ ìˆ˜í–‰í•˜ë©°, ìƒíƒœ ë³€ê²½ì´ ì—†ìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### ìŠ¹ì¸ ì‹¤í–‰(L2) - 7ê°œ

#### policy.exec.enable_automation (L2-B)

**ì„¤ëª…**: ìë™í™” í™œì„±í™” ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- event_type: string
- enabled: boolean

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### policy.exec.update_threshold (L2-B)

**ì„¤ëª…**: ì •ì±… ì„ê³„ê°’ ìˆ˜ì • ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- event_type: string
- key: string
- value: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### rbac.exec.assign_role (L2-B)

**ì„¤ëª…**: ì—­í•  í• ë‹¹ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- user_id: uuid
- role: string

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### system.exec.run_healthcheck (L2-B)

**ì„¤ëª…**: í—¬ìŠ¤ì²´í¬ ì‹¤í–‰

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### system.exec.rebuild_search_index (L2-B)

**ì„¤ëª…**: ê²€ìƒ‰ ì¸ë±ìŠ¤ ì¬êµ¬ì¶• ì‹¤í–‰

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### system.exec.backfill_reports (L2-B)

**ì„¤ëª…**: ë¦¬í¬íŠ¸ ë°±í•„ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---

#### system.exec.retry_failed_actions (L2-B)

**ì„¤ëª…**: ì‹¤íŒ¨ ì•¡ì…˜ ì¬ì‹œë„ ì‹¤í–‰

**íŒŒë¼ë¯¸í„°**:
- from: string - YYYY-MM-DD í˜•ì‹
- to: string - YYYY-MM-DD í˜•ì‹

âš ï¸ **L2-B ë¶„ë¥˜**: ë„ë©”ì¸ ë³€ê²½ ê³„ì—´

âš ï¸ **P0**: Domain Action Catalogê°€ SSOTë¡œ í™•ì •ë˜ê¸° ì „ê¹Œì§€ëŠ” í•­ìƒ L1ë¡œ ê°•ë“±(Fail-Closed)ë©ë‹ˆë‹¤.
- TaskCard ìƒì„±(ì—…ë¬´í™”)ê¹Œì§€ë§Œ ìˆ˜í–‰í•˜ê³  ìë™ ì‹¤í–‰ì€ ê¸ˆì§€ë©ë‹ˆë‹¤.
- ìë™ ì‹¤í–‰ í™œì„±í™” ì¡°ê±´: Domain Action Catalogì— action_key ë“±ë¡, RBAC ë£°/ì •ì±… ê²½ë¡œ/ê°ì‚¬ ê·œì¹™ SSOT ì •ì˜, í•¸ë“¤ëŸ¬ê°€ Catalog ì¡´ì¬ë¥¼ ëŸ°íƒ€ì„ì—ì„œ ê²€ì¦

**ê¸°ëŠ¥**: ì´ IntentëŠ” ë„ë©”ì¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” TaskCard ìƒì„±ê¹Œì§€ë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

---



## 9-Z. Intent ì „ì²´ ëª©ë¡ (147ê°œ)

ì´ ì„¹ì…˜ì€ ëª¨ë“  Intentë¥¼ Levelë³„ë¡œ ë‚˜ì—´í•œ ê°„ë‹¨í•œ ëª©ë¡ì…ë‹ˆë‹¤.

### L0 Intent (ì¡°íšŒ/ì´ˆì•ˆ) - 58ê°œ

- `ai.generate.counseling_agenda`: ìƒë‹´ ì•ˆê±´ ì´ˆì•ˆ ìƒì„±
- `ai.generate.followup_message`: í›„ì† ë©”ì‹œì§€ ìƒì„±
- `ai.query.export_ai_briefing`: AI ë¸Œë¦¬í•‘ ë‚´ë³´ë‚´ê¸°
- `ai.summarize.class_history`: ë°˜ ì´ë ¥ ìš”ì•½
- `ai.summarize.student_history`: í•™ìƒ ì´ë ¥ ìš”ì•½
- `attendance.query.absent`: ê²°ì„í•œ ëŒ€ìƒ ì¡°íšŒ
- `attendance.query.by_class`: ë°˜ë³„ ì¶œê²° ì¡°íšŒ
- `attendance.query.by_student`: íŠ¹ì • í•™ìƒì˜ ì¶œê²° ì¡°íšŒ
- `attendance.query.early_leave`: ì¡°í‡´í•œ ëŒ€ìƒ ì¡°íšŒ
- `attendance.query.export_csv`: ì¶œê²° ë°ì´í„° CSV ë‚´ë³´ë‚´ê¸°
- `attendance.query.late`: ì§€ê°í•œ ëŒ€ìƒ ì¡°íšŒ
- `attendance.query.late_rank`: ì§€ê° ë­í‚¹ ì¡°íšŒ
- `attendance.query.rate_drop`: ì¶œê²°ë¥  í•˜ë½ ëŒ€ìƒ ì¡°íšŒ
- `attendance.query.rate_summary`: ì¶œê²°ë¥  ìš”ì•½ ì¡°íšŒ
- `attendance.query.streak_absent`: ì—°ì† ê²°ì„ ëŒ€ìƒ ì¡°íšŒ
- `attendance.query.unchecked`: ì¶œê²° ë¯¸ì²´í¬ ëŒ€ìƒ ì¡°íšŒ
- `billing.query.by_student`: íŠ¹ì • í•™ìƒì˜ ì²­êµ¬ ì¡°íšŒ
- `billing.query.export_statement`: ëª…ì„¸ì„œ ë‚´ë³´ë‚´ê¸°
- `billing.query.failed_payments`: ê²°ì œ ì‹¤íŒ¨ ëª©ë¡ ì¡°íšŒ
- `billing.query.invoice_status`: ì²­êµ¬ì„œ ìƒíƒœ ì¡°íšŒ
- `billing.query.kpi_summary`: ìˆ˜ë‚© KPI ìš”ì•½ ì¡°íšŒ
- `billing.query.overdue_list`: ì—°ì²´ ëª©ë¡ ì¡°íšŒ
- `billing.query.overdue_month`: ì›”ë³„ ì—°ì²´ ì¡°íšŒ
- `billing.query.partial_payments`: ë¶€ë¶„ ê²°ì œ ëª©ë¡ ì¡°íšŒ
- `billing.query.refund_candidates`: í™˜ë¶ˆ í›„ë³´ ì¡°íšŒ
- `billing.query.unissued_invoices`: ë¯¸ë°œí–‰ ì²­êµ¬ì„œ ì¡°íšŒ
- `class.query.list`: ë°˜ ëª©ë¡ ì¡°íšŒ
- `class.query.roster`: ë°˜ ëª…ë‹¨ ì¡°íšŒ
- `message.draft.absence_notice`: ê²°ì„ ì•ˆë‚´ ì´ˆì•ˆ ìƒì„±
- `message.draft.general_notice`: ì¼ë°˜ ê³µì§€ ì´ˆì•ˆ ìƒì„±
- `message.draft.overdue_notice`: ì—°ì²´ ì•ˆë‚´ ì´ˆì•ˆ ìƒì„±
- `message.draft.payment_link_notice`: ê²°ì œ ë§í¬ ì•ˆë‚´ ì´ˆì•ˆ ìƒì„±
- `message.preview.audience`: ìˆ˜ì‹  ëŒ€ìƒ ë¯¸ë¦¬ë³´ê¸°
- `message.preview.template_render`: í…œí”Œë¦¿ ë Œë”ë§ ë¯¸ë¦¬ë³´ê¸°
- `message.query.failed_log`: ë°œì†¡ ì‹¤íŒ¨ ë¡œê·¸ ì¡°íšŒ
- `message.query.sent_log`: ë°œì†¡ ë¡œê·¸ ì¡°íšŒ
- `message.query.variables_check`: í…œí”Œë¦¿ ë³€ìˆ˜ ê²€ì¦
- `note.draft.consult_summary`: ìƒë‹´ ìš”ì•½ ì´ˆì•ˆ ìƒì„±
- `note.query.by_student`: í•™ìƒë³„ ìƒë‹´ì¼ì§€ ì¡°íšŒ
- `policy.query.automation_rules`: ìë™í™” ê·œì¹™ ì¡°íšŒ
- `rbac.query.my_permissions`: ë‚´ ê¶Œí•œ ì¡°íšŒ
- `report.query.attendance_summary`: ì¶œê²° ìš”ì•½ ë¦¬í¬íŠ¸ ì¡°íšŒ
- `report.query.billing_summary`: ìˆ˜ë‚© ìš”ì•½ ë¦¬í¬íŠ¸ ì¡°íšŒ
- `report.query.dashboard_kpi`: ëŒ€ì‹œë³´ë“œ KPI ì¡°íšŒ
- `report.query.export_dataset`: ë°ì´í„°ì…‹ ë‚´ë³´ë‚´ê¸°
- `report.query.health_snapshot`: í—¬ìŠ¤ ìŠ¤ëƒ…ìƒ· ì¡°íšŒ
- `schedule.query.by_class`: ë°˜ë³„ ì‹œê°„í‘œ ì¡°íšŒ
- `schedule.query.by_teacher`: ê°•ì‚¬ë³„ ì‹œê°„í‘œ ì¡°íšŒ
- `schedule.query.export_timetable`: ì‹œê°„í‘œ ë‚´ë³´ë‚´ê¸°
- `schedule.query.today`: ì˜¤ëŠ˜ ì‹œê°„í‘œ ì¡°íšŒ
- `student.query.data_quality_scan`: í•™ìƒ ë°ì´í„° í’ˆì§ˆ ê²€ì¦
- `student.query.duplicates_suspected`: ì¤‘ë³µ ì˜ì‹¬ í•™ìƒ ì¡°íšŒ
- `student.query.missing_guardian_contact`: ë³´í˜¸ì ì—°ë½ì²˜ ëˆ„ë½ í•™ìƒ ì¡°íšŒ
- `student.query.onboarding_needed`: ì˜¨ë³´ë”© í•„ìš” í•™ìƒ ì¡°íšŒ
- `student.query.profile`: í•™ìƒ í”„ë¡œí•„ ì¡°íšŒ
- `student.query.search`: í•™ìƒ ê²€ìƒ‰
- `student.query.status_list`: ìƒíƒœë³„ í•™ìƒ ëª©ë¡ ì¡°íšŒ
- `system.query.health`: ì‹œìŠ¤í…œ í—¬ìŠ¤ ì²´í¬

### L1 Intent (TaskCard ìƒì„±) - 18ê°œ

- `ai.task.bulk_generate_taskcards`: TaskCard ì¼ê´„ ìƒì„± TaskCard
- `ai.task.create_recommendations`: ì¼ì¼ ì¶”ì²œ ìƒì„± TaskCard
- `ai.task.flag_risk_signals`: ìœ„í—˜ ì‹ í˜¸ í”Œë˜ê¹… TaskCard ìƒì„±
- `attendance.create.notify_guardians_late`: ì§€ê° ëŒ€ìƒ ë³´í˜¸ì ì•Œë¦¼ TaskCard ìƒì„±
- `attendance.task.create_contact_list`: ì—°ë½ì²˜ ëª©ë¡ ìƒì„± TaskCard
- `attendance.task.flag_absence_followup`: ê²°ì„ í›„ì† ì¡°ì¹˜ TaskCard ìƒì„±
- `attendance.task.flag_late_followup`: ì§€ê° í›„ì† ì¡°ì¹˜ TaskCard ìƒì„±
- `billing.task.flag_churn_risk_from_billing`: ìˆ˜ë‚© ê¸°ë°˜ ì´íƒˆ ìœ„í—˜ í”Œë˜ê¹… TaskCard ìƒì„±
- `billing.task.flag_overdue_followup`: ì—°ì²´ í›„ì† ì¡°ì¹˜ TaskCard ìƒì„±
- `billing.task.prepare_invoice_batch`: ì²­êµ¬ì„œ ì¼ê´„ ì¤€ë¹„ TaskCard ìƒì„±
- `billing.task.prepare_payment_link_batch`: ê²°ì œ ë§í¬ ì¼ê´„ ì¤€ë¹„ TaskCard ìƒì„±
- `billing.task.prepare_refund_review`: í™˜ë¶ˆ ê²€í†  TaskCard ìƒì„±
- `message.task.prepare_bulk_send`: ì¼ê´„ ë°œì†¡ ì¤€ë¹„ TaskCard ìƒì„±
- `message.task.test_send_request`: í…ŒìŠ¤íŠ¸ ë°œì†¡ ìš”ì²­ TaskCard ìƒì„±
- `report.task.prepare_monthly_report`: ì›”ê°„ ë¦¬í¬íŠ¸ ì¤€ë¹„ TaskCard ìƒì„±
- `schedule.task.propose_makeup_session`: ë³´ê°• ìˆ˜ì—… ì œì•ˆ TaskCard ìƒì„±
- `student.task.collect_documents`: ë¬¸ì„œ ìˆ˜ì§‘ TaskCard ìƒì„±
- `student.task.register_prefill`: í•™ìƒ ë“±ë¡ ì‚¬ì „ ì…ë ¥ TaskCard ìƒì„±

### L2-A Intent (ì•Œë¦¼/ë°œì†¡ ì‹¤í–‰) - 23ê°œ

- `ai.exec.escalate_emergency`: ê¸´ê¸‰ ì—ìŠ¤ì»¬ë ˆì´ì…˜ ì‹¤í–‰
- `ai.exec.request_staff_review`: ì§ì› ê²€í†  ìš”ì²­ ì‹¤í–‰
- `attendance.exec.notify_guardians_absent`: ê²°ì„ ëŒ€ìƒ ë³´í˜¸ì ì•Œë¦¼ ë°œì†¡ ì‹¤í–‰
- `attendance.exec.notify_guardians_late`: ì§€ê° ëŒ€ìƒ ë³´í˜¸ì ì•Œë¦¼ ë°œì†¡ ì‹¤í–‰
- `attendance.exec.request_reason_message`: ê²°ì„ ì‚¬ìœ  ìš”ì²­ ë©”ì‹œì§€ ë°œì†¡ ì‹¤í–‰
- `attendance.exec.send_staff_summary`: ì§ì›ìš© ì¶œê²° ìš”ì•½ ë°œì†¡ ì‹¤í–‰
- `billing.exec.schedule_overdue_notice`: ì—°ì²´ ì•ˆë‚´ ì˜ˆì•½ ë°œì†¡ ì‹¤í–‰
- `billing.exec.send_overdue_notice_1st`: 1ì°¨ ì—°ì²´ ì•ˆë‚´ ë°œì†¡ ì‹¤í–‰
- `billing.exec.send_overdue_notice_2nd`: 2ì°¨ ì—°ì²´ ì•ˆë‚´ ë°œì†¡ ì‹¤í–‰
- `billing.exec.send_payment_link`: ê²°ì œ ë§í¬ ë°œì†¡ ì‹¤í–‰
- `message.exec.class_schedule_change_notice`: ìˆ˜ì—… ì¼ì • ë³€ê²½ ì•ˆë‚´ ì‹¤í–‰
- `message.exec.emergency_notice`: ê¸´ê¸‰ ê³µì§€ ì‹¤í–‰
- `message.exec.optout_respect_audit`: ìˆ˜ì‹ ê±°ë¶€ ê°ì‚¬ ì‹¤í–‰
- `message.exec.resend_failed`: ì‹¤íŒ¨ ë©”ì‹œì§€ ì¬ë°œì†¡ ì‹¤í–‰
- `message.exec.schedule_bulk`: ì¼ê´„ ë©”ì‹œì§€ ì˜ˆì•½ ë°œì†¡ ì‹¤í–‰
- `message.exec.send_bulk`: ì¼ê´„ ë©”ì‹œì§€ ë°œì†¡ ì‹¤í–‰
- `message.exec.send_to_guardian`: ë³´í˜¸ì ë©”ì‹œì§€ ë°œì†¡ ì‹¤í–‰
- `message.exec.staff_broadcast`: ì§ì› ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì‹¤í–‰
- `report.exec.schedule_monthly_report`: ì›”ê°„ ë¦¬í¬íŠ¸ ì˜ˆì•½ ë°œì†¡ ì‹¤í–‰
- `report.exec.send_report`: ë¦¬í¬íŠ¸ ë°œì†¡ ì‹¤í–‰
- `schedule.exec.notify_change`: ì‹œê°„í‘œ ë³€ê²½ ì•ˆë‚´ ì‹¤í–‰
- `student.exec.request_documents_message`: ë¬¸ì„œ ìš”ì²­ ë©”ì‹œì§€ ë°œì†¡ ì‹¤í–‰
- `student.exec.send_welcome_message`: ì‹ ê·œ ë“±ë¡ í™˜ì˜ ë©”ì‹œì§€ ë°œì†¡ ì‹¤í–‰

### L2-B Intent (ë„ë©”ì¸ ë³€ê²½ ì‹¤í–‰) - 48ê°œ

- `attendance.exec.bulk_update`: ì¶œê²° ê¸°ë¡ ì¼ê´„ ìˆ˜ì • ì‹¤í–‰
- `attendance.exec.correct_record`: ì¶œê²° ê¸°ë¡ ìˆ˜ì • ì‹¤í–‰
- `attendance.exec.mark_excused`: ì¶œê²° ê¸°ë¡ ì‚¬ìœ  ì²˜ë¦¬ ì‹¤í–‰
- `attendance.exec.schedule_recheck`: ì¶œê²° ì¬í™•ì¸ ì˜ˆì•½ ì‹¤í–‰
- `billing.exec.apply_discount`: í• ì¸ ì ìš© ì‹¤í–‰
- `billing.exec.apply_refund`: í™˜ë¶ˆ ì ìš© ì‹¤í–‰
- `billing.exec.close_month`: ì›” ë§ˆê° ì²˜ë¦¬ ì‹¤í–‰
- `billing.exec.create_installment_plan`: í• ë¶€ ê³„íš ìƒì„± ì‹¤í–‰
- `billing.exec.fix_duplicate_invoices`: ì¤‘ë³µ ì²­êµ¬ì„œ ìˆ˜ì • ì‹¤í–‰
- `billing.exec.issue_invoices`: ì²­êµ¬ì„œ ë°œí–‰ ì‹¤í–‰
- `billing.exec.record_manual_payment`: ìˆ˜ë™ ê²°ì œ ê¸°ë¡ ì‹¤í–‰
- `billing.exec.reissue_invoice`: ì²­êµ¬ì„œ ì¬ë°œí–‰ ì‹¤í–‰
- `billing.exec.sync_gateway`: ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ë™ê¸°í™” ì‹¤í–‰
- `class.exec.bulk_reassign_teacher`: ê°•ì‚¬ ì¼ê´„ ì¬ë°°ì • ì‹¤í–‰
- `class.exec.close`: ë°˜ íì‡„ ì‹¤í–‰
- `class.exec.create`: ë°˜ ìƒì„± ì‹¤í–‰
- `class.exec.update`: ë°˜ ì •ë³´ ìˆ˜ì • ì‹¤í–‰
- `message.exec.cancel_scheduled`: ì˜ˆì•½ ë°œì†¡ ì·¨ì†Œ ì‹¤í–‰
- `message.exec.create_template`: ë©”ì‹œì§€ í…œí”Œë¦¿ ìƒì„± ì‹¤í–‰
- `message.exec.update_template`: ë©”ì‹œì§€ í…œí”Œë¦¿ ìˆ˜ì • ì‹¤í–‰
- `note.exec.create`: ìƒë‹´ì¼ì§€ ìƒì„± ì‹¤í–‰
- `note.exec.update`: ìƒë‹´ì¼ì§€ ìˆ˜ì • ì‹¤í–‰
- `policy.exec.enable_automation`: ìë™í™” í™œì„±í™” ì‹¤í–‰
- `policy.exec.update_threshold`: ì •ì±… ì„ê³„ê°’ ìˆ˜ì • ì‹¤í–‰
- `rbac.exec.assign_role`: ì—­í•  í• ë‹¹ ì‹¤í–‰
- `report.exec.generate_daily_brief`: ì¼ì¼ ë¸Œë¦¬í•‘ ìƒì„± ì‹¤í–‰
- `report.exec.generate_monthly_report`: ì›”ê°„ ë¦¬í¬íŠ¸ ìƒì„± ì‹¤í–‰
- `schedule.exec.add_session`: ìˆ˜ì—… ì„¸ì…˜ ì¶”ê°€ ì‹¤í–‰
- `schedule.exec.bulk_shift`: ì‹œê°„í‘œ ì¼ê´„ ì´ë™ ì‹¤í–‰
- `schedule.exec.cancel_session`: ìˆ˜ì—… ì„¸ì…˜ ì·¨ì†Œ ì‹¤í–‰
- `schedule.exec.move_session`: ìˆ˜ì—… ì„¸ì…˜ ì´ë™ ì‹¤í–‰
- `student.exec.assign_tags`: í•™ìƒ íƒœê·¸ í• ë‹¹ ì‹¤í–‰
- `student.exec.bulk_register`: í•™ìƒ ì¼ê´„ ë“±ë¡ ì‹¤í–‰
- `student.exec.bulk_update`: í•™ìƒ ì¼ê´„ ìˆ˜ì • ì‹¤í–‰
- `student.exec.change_class`: ë°˜ ë³€ê²½ ì‹¤í–‰
- `student.exec.data_quality_apply_fix`: ë°ì´í„° í’ˆì§ˆ ìë™ ìˆ˜ì • ì‹¤í–‰
- `student.exec.discharge`: í•™ìƒ í‡´ì› ì²˜ë¦¬ ì‹¤í–‰
- `student.exec.merge_duplicates`: ì¤‘ë³µ í•™ìƒ ë³‘í•© ì‹¤í–‰
- `student.exec.pause`: í•™ìƒ íœ´ì› ì²˜ë¦¬ ì‹¤í–‰
- `student.exec.reactivate_from_discharged`: í‡´ì› í•™ìƒ ì¬í™œì„±í™” ì‹¤í–‰
- `student.exec.register`: í•™ìƒ ë“±ë¡ ì‹¤í–‰
- `student.exec.resume`: í•™ìƒ ì¬ê°œ ì²˜ë¦¬ ì‹¤í–‰
- `student.exec.update_guardian_contact`: ë³´í˜¸ì ì—°ë½ì²˜ ìˆ˜ì • ì‹¤í–‰
- `student.exec.update_profile`: í•™ìƒ í”„ë¡œí•„ ìˆ˜ì • ì‹¤í–‰
- `system.exec.backfill_reports`: ë¦¬í¬íŠ¸ ë°±í•„ ì‹¤í–‰
- `system.exec.rebuild_search_index`: ê²€ìƒ‰ ì¸ë±ìŠ¤ ì¬êµ¬ì¶• ì‹¤í–‰
- `system.exec.retry_failed_actions`: ì‹¤íŒ¨ ì•¡ì…˜ ì¬ì‹œë„ ì‹¤í–‰
- `system.exec.run_healthcheck`: í—¬ìŠ¤ì²´í¬ ì‹¤í–‰


## 10. ChatOps TaskCard ìƒì„± ê·œì¹™

âš ï¸ **SSOT**: ì´ ì„¹ì…˜ì€ `infra/supabase/functions/chatops/index.ts`ì˜ êµ¬í˜„ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
- ì½”ë“œ êµ¬í˜„ì´ SSOTì´ë©°, ì´ ë¬¸ì„œëŠ” ì°¸ì¡°ìš©ì…ë‹ˆë‹¤.
- êµ¬í˜„ ë³€ê²½ ì‹œ ì´ ë¬¸ì„œë„ í•¨ê»˜ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤.

### 10.1. TaskCard ìƒì„± ê°œìš”

**ìƒì„± ëŒ€ìƒ:**
- **L1 Intent**: TaskCard ìƒì„±ë§Œ ìˆ˜í–‰ (ì´ 18ê°œ)
- **L2 Intent**: TaskCard ìƒì„± í›„ ìŠ¹ì¸ ì‹œ ì‹¤í–‰ (ì´ 71ê°œ)
  - L2-A (ì•Œë¦¼/ë°œì†¡): 23ê°œ
  - L2-B (ë„ë©”ì¸ ë³€ê²½): 48ê°œ (í˜„ì¬ëŠ” L1ë¡œ ê°•ë“±ë˜ì–´ TaskCard ìƒì„±ë§Œ ìˆ˜í–‰)

**ìƒì„± ì‹œì :**
- ì‚¬ìš©ìê°€ ChatOpsë¥¼ í†µí•´ L1/L2 Intent ìš”ì²­ ì‹œ ì¦‰ì‹œ ìƒì„±
- ìƒì„±ëœ TaskCardëŠ” ì‚¬ìš©ìê°€ í™•ì¸í•˜ê³  ìŠ¹ì¸í•œ í›„ ì‹¤í–‰ë©ë‹ˆë‹¤.

### 10.2. Priority (ìš°ì„ ìˆœìœ„) ì²˜ë¦¬

**Policy ê²½ë¡œ:**
- `chatops.taskcard.priority` (í…Œë„ŒíŠ¸ë³„ ì„¤ì •)

**ì²˜ë¦¬ ê·œì¹™:**
- Policyê°€ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©´ í•´ë‹¹ ê°’ ì‚¬ìš© (0-100 ë²”ìœ„)
- Policyê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ **50** ì‚¬ìš© (ChatOps ì „ìš© ì˜ˆì™¸)
  - âš ï¸ **ChatOps ì˜ˆì™¸**: ë‹¤ë¥¸ ìë™í™”ì™€ ë‹¬ë¦¬ ChatOpsëŠ” ì‚¬ìš©ì ì§ì ‘ ìš”ì²­ ê¸°ëŠ¥ì´ë¯€ë¡œ ê¸°ë³¸ê°’ ì œê³µ
  - Policyê°€ ì—†ì„ ë•Œ ê¸°ë³¸ê°’ ì‚¬ìš© í›„ ë¡œê·¸ì— ëª…í™•íˆ ê¸°ë¡
- Priority ê°’ì€ 0-100 ë²”ìœ„ë¡œ ê²€ì¦ (ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ë©´ TaskCard ìƒì„± ì‹¤íŒ¨)

**ì˜ˆì‹œ:**
```typescript
// Policy ì¡°íšŒ
const priority = await getTenantSettingByPath(supabase, tenant_id, 'chatops.taskcard.priority');

// Policyê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ 50 ì‚¬ìš© (ChatOps ì „ìš© ì˜ˆì™¸)
const priorityValue = priority ?? 50;

// 0-100 ë²”ìœ„ ê²€ì¦
if (priorityValue < 0 || priorityValue > 100) {
  // TaskCard ìƒì„± ì‹¤íŒ¨
}
```

### 10.3. entity_type ë° entity_id ê²°ì • ê·œì¹™

âš ï¸ **SSOT**: ì´ ê·œì¹™ì€ `packages/chatops-intents/src/registry.ts`ì˜ `taskcard.entity_type` ì •ì˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.

**ì—…ì¢… ì¤‘ë¦½ì„± ì›ì¹™:**
- `entity_type`ì€ ì—…ì¢…ê³¼ ë¬´ê´€í•˜ê²Œ Core Party ê°œë… ì‚¬ìš©
  - `'student'`: Core Partyì˜ `person_type='student'` (ì—…ì¢…ë³„ë¡œ customer, client, member ë“±ìœ¼ë¡œ ë§¤í•‘ë˜ì§€ë§Œ `entity_type`ì€ `'student'`ë¡œ í†µì¼)
  - `'tenant'`: í…Œë„ŒíŠ¸ ë ˆë²¨ ì‘ì—…
  - `'class'`: ì—…ì¢…ë³„ í´ë˜ìŠ¤/ì„œë¹„ìŠ¤/í”„ë¡œê·¸ë¨ (ì—…ì¢…ë³„ë¡œ class, service, program ë“±ìœ¼ë¡œ ë§¤í•‘ë˜ì§€ë§Œ `entity_type`ì€ `'class'`ë¡œ í†µì¼)
  - `'billing'`: ì²­êµ¬ ê´€ë ¨ ì—”í‹°í‹° (íŠ¹ìˆ˜ ì¼€ì´ìŠ¤)
- ìƒˆë¡œìš´ ì—…ì¢… ì¶”ê°€ ì‹œì—ë„ `entity_type`ì€ ë³€ê²½ë˜ì§€ ì•ŠìŒ (ì—…ì¢…ë³„ ë§¤í•‘ì€ Industry Adapterì—ì„œ ì²˜ë¦¬)

**ë„ë©”ì¸ë³„ ê²°ì • ê·œì¹™:**

1. **student.*** Intent:
   - `entity_type`: í•­ìƒ `'student'`
   - `entity_id`: `targetStudentIds[0]` (ìˆìœ¼ë©´) ë˜ëŠ” `tenant_id` (ì—†ìœ¼ë©´)
   - âš ï¸ **íŠ¹ìˆ˜ ì¼€ì´ìŠ¤**: `student.exec.register` (í•™ìƒ ë“±ë¡)
     - í•™ìƒì´ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ `entity_id = tenant_id`
     - í•˜ì§€ë§Œ `entity_type = 'student'` (í”„ë¡ íŠ¸ì—”ë“œ í•„í„°ë§ì„ ìœ„í•´)

2. **attendance.*** Intent:
   - `entity_type`: `targetStudentIds.length > 0`ì´ë©´ `'student'`, ì—†ìœ¼ë©´ `'tenant'` (ëŒ€ëŸ‰ ì‘ì—…)
   - `entity_id`: `targetStudentIds[0]` (ìˆìœ¼ë©´) ë˜ëŠ” `tenant_id` (ì—†ìœ¼ë©´)

3. **billing.*** Intent:
   - ëŒ€ë¶€ë¶„ `entity_type = 'tenant'`
   - ì¼ë¶€ IntentëŠ” `entity_type = 'student'`:
     - `billing.exec.send_payment_link`
     - `billing.exec.record_manual_payment`
     - `billing.exec.apply_discount`
     - `billing.exec.apply_refund`
     - `billing.exec.create_installment_plan`
   - `entity_id`: `targetStudentIds[0]` (student Intentì¸ ê²½ìš°) ë˜ëŠ” `tenant_id`

4. **message.*** Intent:
   - `entity_type`: `student_id`ê°€ ìˆìœ¼ë©´ `'student'`, ì—†ìœ¼ë©´ `'tenant'`
   - `entity_id`: `student_id` (ìˆìœ¼ë©´) ë˜ëŠ” `tenant_id` (ì—†ìœ¼ë©´)

5. **class.*** Intent:
   - `entity_type`: `class_id`ê°€ ìˆìœ¼ë©´ `'class'`, ì—†ìœ¼ë©´ `'tenant'`
   - `entity_id`: `class_id` (ìˆìœ¼ë©´) ë˜ëŠ” `tenant_id` (ì—†ìœ¼ë©´)

6. **schedule.*** Intent:
   - `entity_type`: `class_id`ê°€ ìˆìœ¼ë©´ `'class'`, ì—†ìœ¼ë©´ `'tenant'`
   - `entity_id`: `class_id` (ìˆìœ¼ë©´) ë˜ëŠ” `tenant_id` (ì—†ìœ¼ë©´)

7. **note.*** Intent:
   - `entity_type`: í•­ìƒ `'student'`
   - `entity_id`: `targetStudentIds[0]` ë˜ëŠ” `params.student_id` ë˜ëŠ” `tenant_id`

8. **ai.*** Intent:
   - `entity_type`: `student_id`ê°€ ìˆìœ¼ë©´ `'student'`, ì—†ìœ¼ë©´ `'tenant'`
   - `entity_id`: `student_id` (ìˆìœ¼ë©´) ë˜ëŠ” `tenant_id` (ì—†ìœ¼ë©´)

9. **report.***, **system.***, **policy.***, **rbac.*** Intent:
   - `entity_type`: í•­ìƒ `'tenant'`
   - `entity_id`: `tenant_id`

**ì˜ˆì‹œ:**
```typescript
// student.exec.register (í•™ìƒ ë“±ë¡)
entity_type = 'student';
entity_id = tenant_id; // í•™ìƒì´ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ

// attendance.exec.notify_guardians_absent (ê²°ì„ ì•Œë¦¼)
if (targetStudentIds.length > 0) {
  entity_type = 'student';
  entity_id = targetStudentIds[0];
} else {
  entity_type = 'tenant';
  entity_id = tenant_id;
}
```

### 10.4. dedup_key ìƒì„± ê·œì¹™

**í¬ë§·:**
```
{tenantId}:{trigger}:{entityType}:{entityId}:{window}
```

**êµ¬ì„± ìš”ì†Œ:**
- `tenantId`: í…Œë„ŒíŠ¸ ID
- `trigger`: `'chatops'` (ChatOpsì—ì„œ ìƒì„±ëœ TaskCardì„ì„ í‘œì‹œ)
- `entityType`: `entity_type` ê°’ (`'tenant'`ì¸ ê²½ìš° `'global'`ë¡œ ë³€í™˜)
- `entityId`: `entity_id` ê°’ (`entity_type='tenant'`ì¸ ê²½ìš° `'global'`ë¡œ ë³€í™˜)
- `window`: KST ê¸°ì¤€ ë‚ ì§œ (YYYY-MM-DD í˜•ì‹, `toKSTDate()` ì‚¬ìš©)

**ì¤‘ë³µ ë°©ì§€ ê·œì¹™:**
- ë™ì¼ `dedup_key`ë¥¼ ê°€ì§„ TaskCardëŠ” í•˜ë£¨ì— 1ê°œë§Œ ìœ ì§€
- ê¸°ì¡´ TaskCardê°€ ìˆìœ¼ë©´ ì—…ë°ì´íŠ¸, ì—†ìœ¼ë©´ ìƒì„±
- ë¶€ë¶„ ì¸ë±ìŠ¤ ì¡°ê±´: `WHERE dedup_key IS NOT NULL AND status = 'pending'`

**ì˜ˆì‹œ:**
```typescript
// KST ê¸°ì¤€ ë‚ ì§œ (YYYY-MM-DD)
const window = toKSTDate();

// entity_type='tenant'ì¸ ê²½ìš° 'global'ë¡œ ë³€í™˜
const dedupEntityId = entityType === 'tenant' ? 'global' : entityId;

// dedup_key ìƒì„±
const dedupKey = `${tenant_id}:chatops:${entityType}:${dedupEntityId}:${window}`;
// ì˜ˆ: "123e4567-e89b-12d3-a456-426614174000:chatops:student:789e0123-e89b-12d3-a456-426614174001:2025-01-28"
```

### 10.5. TaskCard í•„ë“œ ì„¤ì •

**í•„ìˆ˜ í•„ë“œ:**
- `tenant_id`: í…Œë„ŒíŠ¸ ID
- `entity_id`: ê²°ì •ëœ `entity_id` ê°’
- `entity_type`: ê²°ì •ëœ `entity_type` ê°’
- `task_type`: Intentì— ë”°ë¼ ê²°ì • (ì˜ˆ: `'ai_suggested'`)
- `dedup_key`: ìƒì„±ëœ `dedup_key` ê°’
- `status`: `'pending'` (ì´ˆê¸° ìƒíƒœ)
- `priority`: Policyì—ì„œ ì¡°íšŒí•œ ê°’ ë˜ëŠ” ê¸°ë³¸ê°’ 50
- `title`: Intentì— ë”°ë¼ ìƒì„±ëœ ì œëª©
- `description`: Intentì— ë”°ë¼ ìƒì„±ëœ ì„¤ëª…
- `action_url`: Intentì— ë”°ë¼ ìƒì„±ëœ URL
- `expires_at`: ìƒì„± ì‹œì  + 7ì¼ (ê¸°ë³¸ê°’)
- `created_at`: í˜„ì¬ ì‹œê°
- `updated_at`: í˜„ì¬ ì‹œê°

**ì„ íƒ í•„ë“œ:**
- `student_id`: `entity_type='student'`ì¸ ê²½ìš° `entity_id`ì™€ ë™ì¼ ê°’ (í•˜ìœ„ í˜¸í™˜ì„±)
- `suggested_action`: Intentì— ë”°ë¼ ìƒì„±ëœ ì•¡ì…˜ ì •ì˜ (JSONB)
- `metadata`: ì¶”ê°€ ë©”íƒ€ë°ì´í„° (JSONB)

**ì˜ˆì‹œ:**
```typescript
const taskCard = {
  tenant_id: tenant_id,
  entity_id: entityId,
  entity_type: entityType,
  task_type: 'ai_suggested',
  dedup_key: dedupKey,
  status: 'pending',
  priority: priorityValue,
  title: 'í•™ìƒ ë“±ë¡',
  description: 'ë² ì§€íƒ€ í•™ìƒ ë“±ë¡ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.',
  action_url: `/students/${entityId}/register`,
  expires_at: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),
  student_id: entityType === 'student' ? entityId : null,
  // ...
};
```

### 10.6. íŠ¹ìˆ˜ ì¼€ì´ìŠ¤: student.exec.register

**ë¬¸ì œ:**
- í•™ìƒ ë“±ë¡ IntentëŠ” í•™ìƒì´ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ TaskCardë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- ë”°ë¼ì„œ `targetStudentIds`ê°€ ë¹„ì–´ìˆì–´ `entity_id`ë¥¼ ê²°ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

**í•´ê²°:**
- `entity_type = 'student'` (SSOT Registry ê·œì¹™ ì¤€ìˆ˜)
- `entity_id = tenant_id` (ì„ì‹œ ê°’, í•™ìƒ ë“±ë¡ í›„ ì—…ë°ì´íŠ¸ í•„ìš”)
- í”„ë¡ íŠ¸ì—”ë“œëŠ” `entity_type='student'`ë¡œ í•„í„°ë§í•˜ë¯€ë¡œ TaskCardê°€ í‘œì‹œë©ë‹ˆë‹¤.

**ì°¸ê³ :**
- í•™ìƒ ë“±ë¡ í›„ ìƒì„±ëœ í•™ìƒ IDë¡œ TaskCardë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë¡œì§ì€ ë³„ë„ë¡œ êµ¬í˜„ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

### 10.7. êµ¬í˜„ ìœ„ì¹˜

**ì£¼ìš” íŒŒì¼:**
- `infra/supabase/functions/chatops/index.ts`: TaskCard ìƒì„± ë¡œì§ (Line 1106-1473)
- `packages/chatops-intents/src/registry.ts`: SSOT Intent Registry
- `infra/supabase/functions/_shared/date-utils.ts`: `toKSTDate()` ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
- `infra/supabase/functions/_shared/policy-utils.ts`: Policy ì¡°íšŒ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

**ê´€ë ¨ ë¬¸ì„œ:**
- `docu/ì±—ë´‡.md`: Intent ì¹´íƒˆë¡œê·¸ (ì´ ë¬¸ì„œ)
- `docu/ë””ì–´ìŒ¤ ì•„í‚¤í…ì²˜.md`: TaskCard ë°ì´í„° ëª¨ë¸ ë° UI ìŠ¤í™ (3.1.2, 3.1.3 ì„¹ì…˜)
