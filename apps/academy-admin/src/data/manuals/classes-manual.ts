/**
 * 반(수업) 관리 페이지 매뉴얼
 *
 * [불변 규칙] 매뉴얼 컨텐츠는 명확하고 이해하기 쉽게 작성합니다.
 */

import type { ManualPage } from '../../types/manual';

export const classesManual: ManualPage = {
  id: 'classes',
  title: '반 관리',
  description: '학원의 반(수업)을 등록하고 관리하는 페이지입니다.',
  icon: 'BookOpen',
  lastUpdated: '2026-01-11',
  sections: [
    {
      id: 'intro',
      title: '이 화면, 언제 사용하나요?',
      type: 'intro',
      intro:
        '학원의 **반(수업)을 관리**하는 핵심적인 화면입니다. 좌측 메뉴에서 **"더보기" → "반 관리"**를 클릭하여 접근합니다. 새로운 반을 만들거나, 기존 반의 정보를 수정하고, 수업 시간과 요일을 설정할 수 있습니다. **리스트 보기**와 **캘린더(편성표) 보기** 두 가지 모드를 지원하여 원하는 방식으로 반 정보를 확인할 수 있습니다. 기본적으로 **오늘 수업이 있는 반만** 표시되어 효율적으로 관리할 수 있습니다.',
    },
    {
      id: 'features',
      title: '주요 기능',
      type: 'features',
      features: [
        '반 생성 : 새로운 반을 등록하고 기본 정보 설정',
        '반 수정 : 기존 반의 이름, 시간, 요일 등 정보 변경',
        '반 삭제 : 더 이상 운영하지 않는 반 삭제',
        '반 검색 : 반 이름으로 빠르게 검색',
        '요일 필터링 : 특정 요일에 수업이 있는 반만 골라서 보기',
        '상태 필터링 : 활성/비활성 상태로 반 필터링',
        '리스트 보기 : 반 목록을 카드 형태로 확인',
        '캘린더 보기 : 요일별/시간별 수업 편성표로 확인',
        '오늘 반만 보기 : 오늘 수업이 있는 반만 표시 (기본값)',
        '전체 반 보기 : 모든 반을 한 번에 확인',
        '일정 충돌 감지 : 같은 시간대에 겹치는 수업 자동 확인',
        '담당 강사 배정 : 반별로 담당 강사 지정',
        '정원 관리 : 반별 최대 수강 인원 설정',
      ],
    },
    {
      id: 'steps',
      title: '단계별 사용법',
      type: 'steps',
      stepGuides: [
        {
          title: '새로운 반 만들기',
          steps: [
            { step: 1, content: '화면 상단 오른쪽의 "반 생성" 버튼을 클릭합니다.' },
            { step: 2, content: '반 이름을 입력합니다. 예: "초등 수학 A반", "중등 영어 기초반"' },
            { step: 3, content: '과목을 선택하거나 입력합니다. 예: 수학, 영어, 과학' },
            { step: 4, content: '학년을 선택합니다. 예: 초등 3학년, 중등 1학년' },
            { step: 5, content: '수업 요일을 선택합니다. 월요일부터 일요일 중 하나를 선택합니다.' },
            { step: 6, content: '수업 시작 시간과 종료 시간을 설정합니다. 예: 14:00 ~ 15:30' },
            { step: 7, content: '정원(최대 수강 인원)을 입력합니다. 예: 20명' },
            { step: 8, content: '담당 강사를 선택합니다. 여러 명의 강사를 선택할 수 있습니다.' },
            { step: 9, content: '강의실(교실)을 입력합니다. 예: 201호, A강의실' },
            { step: 10, content: '반 색상을 선택합니다. 캘린더에서 구분하기 쉽도록 원하는 색상을 지정합니다.' },
            { step: 11, content: '필요한 경우 메모를 입력합니다.' },
            { step: 12, content: '"저장" 또는 "생성" 버튼을 클릭하여 반을 등록합니다.' },
          ],
          alert: {
            type: 'info',
            content: '시작 시간이 종료 시간보다 늦으면 오류 메시지가 표시됩니다. 올바른 시간을 입력해주세요.',
          },
        },
        {
          title: '반 정보 수정하기',
          steps: [
            { step: 1, content: '수정할 반의 카드에서 "수정" 버튼을 클릭합니다.' },
            { step: 2, content: '수정 폼이 나타나면 변경하고 싶은 정보를 수정합니다.' },
            { step: 3, content: '시간이나 요일을 변경하면 일정 충돌 여부가 자동으로 확인됩니다.' },
            { step: 4, content: '충돌이 감지되면 안내 메시지가 표시됩니다. 확인 후 계속 진행할지 선택합니다.' },
            { step: 5, content: '"저장" 버튼을 클릭하여 변경 사항을 저장합니다.' },
          ],
          alert: {
            type: 'warning',
            content: '반 정보를 수정하면 해당 반에 등록된 학생들에게도 영향이 있을 수 있습니다. 수업 시간 변경 시 학생/학부모에게 미리 안내해주세요.',
          },
        },
        {
          title: '반 삭제하기',
          steps: [
            { step: 1, content: '삭제할 반의 카드에서 "삭제" 버튼을 클릭합니다.' },
            { step: 2, content: '삭제 확인 메시지가 나타납니다.' },
            { step: 3, content: '"확인" 버튼을 클릭하면 반이 삭제됩니다.' },
          ],
          alert: {
            type: 'warning',
            content: '반을 삭제하면 해당 반의 출결 기록 등 관련 데이터에 영향을 줄 수 있습니다. 신중하게 결정해주세요.',
          },
        },
        {
          title: '반 검색하기',
          steps: [
            { step: 1, content: '화면 상단의 검색창을 클릭합니다.' },
            { step: 2, content: '찾고자 하는 반의 이름을 입력합니다.' },
            { step: 3, content: '입력과 동시에 검색 결과가 자동으로 필터링됩니다.' },
            { step: 4, content: '검색어를 지우면 다시 전체 반 목록이 표시됩니다.' },
          ],
          alert: {
            type: 'info',
            content: '검색어가 입력되면 오늘 수업 필터가 해제되어 모든 반에서 검색됩니다.',
          },
        },
        {
          title: '캘린더(편성표) 보기로 수업 확인하기',
          steps: [
            { step: 1, content: '화면 상단의 "캘린더" 버튼을 클릭합니다.' },
            { step: 2, content: '요일별, 시간별로 정리된 수업 편성표가 표시됩니다.' },
            { step: 3, content: '각 시간대에 어떤 수업이 있는지 한눈에 확인할 수 있습니다.' },
            { step: 4, content: '같은 시간에 겹치는 수업이 있으면 점선 테두리와 함께 "+N 겹침"으로 표시됩니다.' },
            { step: 5, content: '하단의 범례에서 각 반의 색상을 확인할 수 있습니다.' },
          ],
        },
        {
          title: '담당 강사 배정하기',
          steps: [
            { step: 1, content: '반을 생성하거나 수정할 때 "담당 강사" 항목을 찾습니다.' },
            { step: 2, content: '드롭다운에서 배정할 강사를 선택합니다.' },
            { step: 3, content: '여러 명의 강사를 선택할 수 있습니다. (팀 티칭 등)' },
            { step: 4, content: '저장하면 해당 강사가 반에 배정됩니다.' },
          ],
          alert: {
            type: 'info',
            content: '강사 배정 시 해당 강사의 다른 수업과 시간이 겹치면 충돌 경고가 표시됩니다.',
          },
        },
      ],
    },
    {
      id: 'screen',
      title: '화면 뜯어보기',
      type: 'screen',
      screenGroups: [
        {
          title: '상단 액션 버튼 영역',
          items: [
            { title: '오늘 반만 / 전체 반 보기', description: '토글 버튼입니다. 오늘 수업이 있는 반만 볼지, 모든 반을 볼지 선택합니다. 기본값은 "오늘 반만"입니다.' },
            { title: '리스트 버튼', description: '클릭하면 반 목록을 카드 형태로 표시합니다. 각 반의 상세 정보를 확인하기 좋습니다.' },
            { title: '캘린더 버튼', description: '클릭하면 요일별/시간별 수업 편성표 형태로 표시합니다. 수업 시간 배치를 한눈에 보기 좋습니다.' },
            { title: '반 생성 버튼', description: '클릭하면 새로운 반을 등록하는 폼이 나타납니다.' },
          ],
        },
        {
          title: '검색 및 필터 영역',
          items: [
            { title: '검색창', description: '반 이름을 입력하면 해당 반만 화면에 표시됩니다. 실시간으로 검색 결과가 반영됩니다.' },
            { title: '상태 필터', description: '활성(active) 또는 비활성(inactive) 상태의 반만 필터링할 수 있습니다.' },
            { title: '요일 필터', description: '특정 요일에 수업이 있는 반만 필터링할 수 있습니다.' },
          ],
        },
        {
          title: '반 카드 (리스트 보기 모드)',
          items: [
            { title: '반 이름', description: '반의 이름이 표시됩니다. 왼쪽에 반 색상이 세로 띠로 표시됩니다.' },
            { title: '과목', description: '해당 반에서 가르치는 과목이 표시됩니다.' },
            { title: '학년', description: '대상 학년이 표시됩니다.' },
            { title: '요일', description: '수업이 진행되는 요일이 표시됩니다.' },
            { title: '시간', description: '수업 시작 시간과 종료 시간이 표시됩니다. 예: 14:00 ~ 15:30' },
            { title: '정원', description: '현재 수강생 수와 최대 정원이 표시됩니다. 예: 15 / 20' },
            { title: '정원률', description: '정원 대비 현재 수강생 비율이 퍼센트로 표시됩니다.' },
            { title: '수정 버튼', description: '클릭하면 해당 반의 정보를 수정할 수 있는 폼이 나타납니다.' },
            { title: '삭제 버튼', description: '클릭하면 해당 반을 삭제할 수 있습니다. 삭제 전 확인 메시지가 표시됩니다.' },
          ],
        },
        {
          title: '캘린더 보기 모드 (수업 편성표)',
          items: [
            { title: '시간 열 (왼쪽)', description: '08:00부터 22:00까지 30분 단위로 시간이 표시됩니다.' },
            { title: '요일 행 (상단)', description: '월요일부터 일요일까지 7개의 열로 표시됩니다.' },
            { title: '수업 블록', description: '각 시간대에 수업이 있으면 반 색상으로 채워진 블록이 표시됩니다.' },
            { title: '겹침 표시', description: '같은 시간에 여러 수업이 있으면 점선 테두리와 함께 "+N 겹침"으로 표시됩니다.' },
            { title: '범례', description: '화면 하단에 각 반의 이름과 색상이 표시되어 구분할 수 있습니다.' },
          ],
        },
        {
          title: '반 생성/수정 폼',
          items: [
            { title: '반 이름', description: '필수 입력 항목입니다. 반을 구분할 수 있는 이름을 입력합니다.' },
            { title: '과목', description: '수업 과목을 입력하거나 선택합니다.' },
            { title: '학년', description: '대상 학년을 선택합니다.' },
            { title: '수업 요일', description: '월요일부터 일요일 중 수업이 진행되는 요일을 선택합니다.' },
            { title: '시작 시간', description: '수업이 시작되는 시간을 선택합니다.' },
            { title: '종료 시간', description: '수업이 끝나는 시간을 선택합니다. 시작 시간보다 늦어야 합니다.' },
            { title: '정원', description: '최대 수강 가능 인원을 입력합니다.' },
            { title: '담당 강사', description: '반을 담당하는 강사를 선택합니다. 여러 명 선택 가능합니다.' },
            { title: '강의실', description: '수업이 진행되는 강의실이나 교실을 입력합니다.' },
            { title: '반 색상', description: '캘린더에서 구분하기 위한 색상을 선택합니다.' },
            { title: '상태', description: '활성(active) 또는 비활성(inactive) 상태를 선택합니다.' },
            { title: '메모', description: '반에 대한 추가 정보나 메모를 입력합니다.' },
          ],
        },
      ],
    },
    {
      id: 'tips',
      title: '알아두면 좋은 팁 & 주의사항',
      type: 'screen',
      screenGroups: [
        {
          title: '꼭 알아야 할 주의사항',
          items: [
            { title: '시간 순서 확인', description: '시작 시간은 반드시 종료 시간보다 빨라야 합니다. 순서가 잘못되면 저장되지 않습니다.' },
            { title: '일정 충돌 확인', description: '같은 강사가 같은 시간에 다른 수업이 있거나, 같은 강의실이 겹치면 충돌 경고가 표시됩니다. 확인 후 진행하세요.' },
            { title: '삭제 주의', description: '반을 삭제하면 해당 반과 관련된 출결 기록 등에 영향을 줄 수 있습니다.' },
            { title: '상태 변경', description: '반을 비활성(inactive) 상태로 변경하면 출결 관리 등에서 해당 반이 표시되지 않습니다.' },
          ],
        },
        {
          title: '효율적으로 사용하는 팁',
          items: [
            { title: '색상 활용', description: '과목별 또는 학년별로 비슷한 색상을 지정하면 캘린더에서 한눈에 구분하기 쉽습니다.' },
            { title: '캘린더 뷰 활용', description: '신규 반을 만들기 전에 캘린더 뷰에서 빈 시간대를 확인하면 일정 충돌을 미리 방지할 수 있습니다.' },
            { title: '요일 필터 활용', description: '특정 요일의 수업만 확인하고 싶을 때 요일 필터를 사용하세요.' },
            { title: '정원 관리', description: '정원률을 확인하여 수강생이 많은 반은 분반을 고려해보세요.' },
            { title: '설정 기억', description: '마지막으로 선택한 보기 모드(리스트/캘린더)와 전체 보기 설정이 자동으로 저장됩니다.' },
          ],
        },
        {
          title: '문제 해결',
          items: [
            { title: '반이 보이지 않아요', description: '"오늘 반만" 모드에서는 오늘 수업이 있는 반만 표시됩니다. "전체 반 보기" 버튼을 클릭해보세요.' },
            { title: '저장이 안 돼요', description: '시작 시간이 종료 시간보다 늦은지 확인하세요. 필수 입력 항목이 모두 채워졌는지도 확인해주세요.' },
            { title: '충돌 경고가 계속 나와요', description: '강사의 다른 수업 시간이나 강의실 배정을 확인하세요. 필요하면 시간이나 강의실을 변경하세요.' },
            { title: '수정 폼이 안 열려요', description: '인터넷 연결을 확인하고 페이지를 새로고침해보세요.' },
          ],
        },
      ],
    },
    {
      id: 'mobile',
      title: '모바일/태블릿에서 사용하기',
      type: 'screen',
      screenGroups: [
        {
          title: '모바일에서의 차이점',
          items: [
            { title: '드로어 폼', description: '반 생성/수정 폼이 화면 하단에서 올라오는 드로어 형태로 표시됩니다.' },
            { title: '1열 카드', description: '반 카드가 한 줄에 하나씩 표시됩니다.' },
            { title: '가로 스크롤', description: '캘린더 뷰에서 요일을 모두 보려면 좌우로 스크롤해야 합니다.' },
            { title: '터치 조작', description: '버튼과 드롭다운을 손가락으로 터치하여 조작합니다.' },
          ],
        },
        {
          title: '태블릿에서의 차이점',
          items: [
            { title: '사이드 드로어', description: '반 생성/수정 폼이 화면 오른쪽에서 슬라이드되어 나타납니다.' },
            { title: '2~3열 카드', description: '화면 크기에 따라 반 카드가 2~3열로 표시됩니다.' },
            { title: '캘린더 전체 보기', description: '화면이 넓어 캘린더 뷰에서 모든 요일을 한 번에 볼 수 있습니다.' },
          ],
        },
      ],
    },
    {
      id: 'technical',
      title: '기술적 특징',
      type: 'technical',
      technicalFeatures: [
        'React Query 기반 데이터 캐싱 및 자동 리페칭',
        'Schema Registry 기반 동적 폼 렌더링',
        'useCheckScheduleConflicts 훅 기반 일정 충돌 감지',
        'useResponsiveMode 훅 기반 반응형 레이아웃',
        'localStorage 상태 유지 (뷰 모드, 전체 보기 설정)',
        'Today-First 필터링 (오늘 요일 기본 필터)',
        'KST 기준 날짜 처리 (dayjs)',
        'CSS 변수 기반 디자인 시스템',
        'URL 파라미터 기반 딥링크 지원 (/classes/:id)',
        'ErrorBoundary 기반 에러 처리',
      ],
    },
  ],
};
