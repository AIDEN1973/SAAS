/**
 * 메시지/알림 페이지 매뉴얼
 *
 * [불변 규칙] 매뉴얼 컨텐츠는 명확하고 이해하기 쉽게 작성합니다.
 */

import type { ManualPage } from '../../types/manual';

export const notificationsManual: ManualPage = {
  id: 'notifications',
  title: '메시지/알림',
  description: '학부모에게 문자와 알림톡을 발송하고 관리하는 페이지입니다.',
  icon: 'Bell',
  lastUpdated: '2026-01-11',
  sections: [
    {
      id: 'intro',
      title: '이 화면, 언제 사용하나요?',
      type: 'intro',
      intro:
        '학부모에게 **문자 메시지와 알림톡**을 보내는 화면입니다. 개별 학부모에게 메시지를 보내거나, 여러 학부모에게 단체 문자를 보낼 수 있습니다. 자주 사용하는 메시지는 **템플릿으로 저장**해두면 빠르게 발송할 수 있고, 원하는 시간에 자동으로 발송되도록 **예약 발송**도 가능합니다. 등원/하원 시 자동으로 알림을 보내는 **자동 알림 설정** 기능도 제공합니다.',
    },
    {
      id: 'features',
      title: '주요 기능',
      type: 'features',
      features: [
        '개별 메시지 발송 : 특정 학부모에게 1:1로 메시지 발송',
        '단체 문자 발송 : 여러 학부모에게 동시에 같은 메시지 발송',
        '예약 발송 : 원하는 날짜와 시간에 자동으로 메시지 발송',
        '템플릿 관리 : 자주 쓰는 메시지를 템플릿으로 저장하고 재사용',
        '발송 내역 조회 : 보낸 메시지 목록과 발송 상태 확인',
        '자동 알림 설정 : 등원/하원/청구/미납 시 자동 알림 설정',
        'AI 초안 제안 : AI가 상황에 맞는 메시지 초안을 자동으로 제안',
      ],
    },
    {
      id: 'steps',
      title: '단계별 사용법',
      type: 'steps',
      stepGuides: [
        {
          title: '개별 메시지 발송 방법',
          steps: [
            { step: 1, content: '화면 상단의 "메시지 발송" 탭을 클릭합니다.' },
            { step: 2, content: '"새 메시지 발송" 버튼을 클릭합니다.' },
            { step: 3, content: '수신자 입력란에 메시지를 받을 학부모의 전화번호를 입력합니다.' },
            { step: 4, content: '메시지 내용을 작성합니다. 템플릿을 선택하면 미리 저장된 내용이 자동으로 입력됩니다.' },
            { step: 5, content: '"발송" 버튼을 클릭하면 메시지가 즉시 발송됩니다.' },
          ],
          alert: {
            type: 'success',
            content: '발송이 완료되면 "메시지가 발송되었습니다" 알림이 표시됩니다.',
          },
        },
        {
          title: '단체 문자 발송 방법',
          steps: [
            { step: 1, content: '화면 상단의 "단체문자/예약" 탭을 클릭합니다.' },
            { step: 2, content: '수신자 입력란에 전화번호를 입력합니다. 여러 명에게 보낼 경우 각 전화번호를 한 줄씩 입력합니다.' },
            { step: 3, content: '메시지 내용을 작성합니다.' },
            { step: 4, content: '예약 발송을 원하면 "예약 발송 시간" 항목에서 원하는 날짜와 시간을 선택합니다. 선택하지 않으면 즉시 발송됩니다.' },
            { step: 5, content: '"발송" 버튼을 클릭합니다.' },
          ],
          alert: {
            type: 'info',
            content: '단체 문자는 수신자별로 개별 발송되며, 발송 내역에서 각각의 발송 상태를 확인할 수 있습니다.',
          },
        },
        {
          title: '예약 발송 설정 방법',
          steps: [
            { step: 1, content: '"단체문자/예약" 탭으로 이동합니다.' },
            { step: 2, content: '수신자와 메시지 내용을 입력합니다.' },
            { step: 3, content: '"예약 발송 시간" 항목을 클릭합니다.' },
            { step: 4, content: '달력에서 원하는 날짜를 선택하고, 시간을 입력합니다.' },
            { step: 5, content: '"발송" 버튼을 클릭하면 설정한 시간에 자동으로 발송됩니다.' },
          ],
          alert: {
            type: 'warning',
            content: '예약 발송은 취소가 어려우니 날짜와 시간을 신중하게 확인하세요.',
          },
        },
        {
          title: '템플릿 만들기',
          steps: [
            { step: 1, content: '"템플릿 관리" 탭을 클릭합니다.' },
            { step: 2, content: '"새 템플릿 생성" 버튼을 클릭합니다.' },
            { step: 3, content: '템플릿 이름을 입력합니다. 예: "결석 안내", "행사 안내" 등 알아보기 쉬운 이름으로 지정합니다.' },
            { step: 4, content: '메시지 내용을 작성합니다. 자주 보내는 메시지를 미리 작성해 두세요.' },
            { step: 5, content: '"저장" 버튼을 클릭하면 템플릿이 생성됩니다.' },
          ],
        },
        {
          title: '템플릿 사용하기',
          steps: [
            { step: 1, content: '메시지 발송 화면에서 "새 메시지 발송" 버튼을 클릭합니다.' },
            { step: 2, content: '템플릿 선택 드롭다운에서 사용할 템플릿을 선택합니다.' },
            { step: 3, content: '템플릿의 내용이 메시지 입력란에 자동으로 채워집니다.' },
            { step: 4, content: '필요한 경우 내용을 수정한 후 발송합니다.' },
          ],
          alert: {
            type: 'info',
            content: '템플릿을 선택해도 내용을 수정할 수 있습니다. 학생 이름이나 날짜 등을 바꿔서 사용하세요.',
          },
        },
        {
          title: '발송 내역 확인하기',
          steps: [
            { step: 1, content: '"메시지 내역" 탭을 클릭합니다.' },
            { step: 2, content: '보낸 메시지 목록이 최신순으로 표시됩니다.' },
            { step: 3, content: '각 메시지의 발송 상태(대기중/발송완료/실패)를 확인할 수 있습니다.' },
            { step: 4, content: '특정 메시지를 클릭하면 상세 정보를 볼 수 있습니다.' },
          ],
        },
        {
          title: '자동 알림 설정하기',
          steps: [
            { step: 1, content: '"자동 알림 설정" 탭을 클릭합니다.' },
            { step: 2, content: '원하는 자동 알림 항목을 활성화합니다.' },
            { step: 3, content: '등원 알림 : 학생이 등원하면 학부모에게 자동으로 알림을 보냅니다.' },
            { step: 4, content: '하원 알림 : 학생이 하원하면 학부모에게 자동으로 알림을 보냅니다.' },
            { step: 5, content: '청구 생성 알림 : 새로운 수강료 청구서가 생성되면 알림을 보냅니다.' },
            { step: 6, content: '미납 알림 : 수강료가 미납 상태일 때 알림을 보냅니다.' },
            { step: 7, content: '"저장" 버튼을 클릭하여 설정을 저장합니다.' },
          ],
          alert: {
            type: 'success',
            content: '자동 알림을 설정해두면 학부모와의 소통이 자동화되어 업무 부담이 줄어듭니다.',
          },
        },
      ],
    },
    {
      id: 'screen',
      title: '화면 뜯어보기',
      type: 'screen',
      screenGroups: [
        {
          title: '탭 메뉴 (화면 상단)',
          items: [
            { title: '메시지 내역', description: '지금까지 보낸 모든 메시지 목록을 확인할 수 있습니다. 발송 상태와 내용을 한눈에 볼 수 있습니다.' },
            { title: '메시지 발송', description: '새로운 메시지를 작성하고 발송하는 탭입니다. AI 초안 제안도 이 탭에서 확인할 수 있습니다.' },
            { title: '템플릿 관리', description: '자주 사용하는 메시지를 템플릿으로 저장하고 관리하는 탭입니다.' },
            { title: '단체문자/예약', description: '여러 명에게 동시에 메시지를 보내거나, 예약 발송을 설정하는 탭입니다.' },
            { title: '자동 알림 설정', description: '등원/하원/청구/미납 시 자동으로 알림을 보내도록 설정하는 탭입니다.' },
          ],
        },
        {
          title: '메시지 내역 탭',
          items: [
            { title: '메시지 목록', description: '보낸 메시지가 테이블 형태로 표시됩니다. 수신자, 내용, 발송 시간, 상태 등을 확인할 수 있습니다.' },
            { title: '상태 표시', description: '각 메시지의 발송 상태가 색상으로 구분됩니다. 초록색은 성공, 노란색은 대기중, 빨간색은 실패를 나타냅니다.' },
            { title: '새 메시지 발송 버튼', description: '클릭하면 바로 새 메시지를 작성할 수 있는 폼이 열립니다.' },
          ],
        },
        {
          title: '메시지 발송 탭',
          items: [
            { title: 'AI 초안 제안 영역', description: 'AI가 상황을 분석하여 메시지 초안을 제안합니다. "적용" 버튼을 클릭하면 초안이 메시지 입력란에 자동으로 채워집니다.' },
            { title: '새 메시지 발송 버튼', description: '클릭하면 메시지 작성 폼이 열립니다.' },
          ],
        },
        {
          title: '메시지 작성 폼',
          items: [
            { title: '수신자 입력란', description: '메시지를 받을 학부모의 전화번호를 입력합니다.' },
            { title: '템플릿 선택', description: '저장된 템플릿 중 하나를 선택하면 메시지 내용이 자동으로 입력됩니다.' },
            { title: '메시지 내용', description: '보낼 메시지를 직접 작성하거나 템플릿에서 불러온 내용을 수정합니다.' },
            { title: '발송 버튼', description: '클릭하면 메시지가 즉시 발송됩니다.' },
          ],
        },
        {
          title: '템플릿 관리 탭',
          items: [
            { title: '템플릿 목록', description: '저장된 템플릿이 카드 형태로 표시됩니다. 템플릿 이름과 미리보기 내용을 확인할 수 있습니다.' },
            { title: '새 템플릿 생성 버튼', description: '클릭하면 새 템플릿을 만들 수 있는 폼이 열립니다.' },
            { title: '채널 표시', description: '각 템플릿 옆에 알림톡 또는 SMS 라벨이 표시됩니다.' },
          ],
        },
        {
          title: '단체문자/예약 탭',
          items: [
            { title: '수신자 입력란', description: '여러 전화번호를 한 줄에 하나씩 입력합니다. 예: 010-1234-5678' },
            { title: '메시지 내용', description: '모든 수신자에게 보낼 메시지를 작성합니다.' },
            { title: '예약 발송 시간', description: '날짜와 시간을 선택하면 해당 시간에 자동으로 발송됩니다. 비워두면 즉시 발송됩니다.' },
            { title: '발송 버튼', description: '설정한 내용대로 메시지를 발송합니다.' },
          ],
        },
        {
          title: '자동 알림 설정 탭',
          items: [
            { title: '등원 알림 스위치', description: '켜면 학생이 등원할 때 학부모에게 자동으로 알림이 발송됩니다.' },
            { title: '하원 알림 스위치', description: '켜면 학생이 하원할 때 학부모에게 자동으로 알림이 발송됩니다.' },
            { title: '청구 생성 알림 스위치', description: '켜면 새 청구서가 생성될 때 학부모에게 알림이 발송됩니다.' },
            { title: '미납 알림 스위치', description: '켜면 수강료가 미납일 때 학부모에게 알림이 발송됩니다.' },
            { title: '저장 버튼', description: '변경한 설정을 저장합니다.' },
          ],
        },
      ],
    },
    {
      id: 'tips',
      title: '알아두면 좋은 팁 & 주의사항',
      type: 'screen',
      screenGroups: [
        {
          title: '꼭 알아야 할 주의사항',
          items: [
            { title: '발송 채널', description: '기본적으로 카카오 알림톡으로 발송되며, 알림톡 발송이 실패하면 자동으로 SMS로 대체 발송됩니다.' },
            { title: '전화번호 형식', description: '전화번호는 하이픈(-)을 포함해도 되고 숫자만 입력해도 됩니다. 예: 010-1234-5678 또는 01012345678' },
            { title: '단체 문자 입력', description: '여러 명에게 보낼 때는 전화번호를 한 줄에 하나씩 입력해야 합니다. 쉼표로 구분하면 안 됩니다.' },
            { title: '예약 발송 시간', description: '예약 발송 시간은 설정한 시간에 정확히 발송됩니다. 시간대를 확인하세요.' },
            { title: '발송 비용', description: '알림톡과 SMS는 발송 비용이 발생합니다. 요금제에 따라 비용이 다를 수 있습니다.' },
          ],
        },
        {
          title: '효율적으로 사용하는 팁',
          items: [
            { title: '템플릿 활용', description: '자주 보내는 메시지는 템플릿으로 저장해두면 매번 입력하지 않아도 됩니다. 예: 결석 안내, 수업 변경 안내, 행사 안내 등' },
            { title: 'AI 초안 활용', description: 'AI가 상황을 분석하여 메시지 초안을 제안합니다. 초안을 기반으로 수정하면 시간을 절약할 수 있습니다.' },
            { title: '자동 알림 설정', description: '등원/하원 알림을 자동으로 설정해두면 학부모가 자녀의 출결 상황을 실시간으로 알 수 있습니다.' },
            { title: '발송 내역 확인', description: '메시지가 정상적으로 발송되었는지 "메시지 내역" 탭에서 확인하세요. 실패한 경우 재발송할 수 있습니다.' },
            { title: '예약 발송 활용', description: '공지사항이나 행사 안내는 예약 발송을 활용하여 적절한 시간에 발송하세요. 예: 아침 9시, 점심 시간 등' },
          ],
        },
        {
          title: '문제 해결',
          items: [
            { title: '메시지가 발송되지 않아요', description: '인터넷 연결을 확인하고, 전화번호가 올바른지 확인하세요. 발송 내역에서 오류 메시지를 확인할 수 있습니다.' },
            { title: '템플릿이 저장되지 않아요', description: '템플릿 이름과 내용이 모두 입력되었는지 확인하세요. 빈 내용은 저장되지 않습니다.' },
            { title: '자동 알림이 발송되지 않아요', description: '자동 알림 설정 탭에서 해당 항목이 활성화되어 있는지 확인하세요. 저장 버튼을 눌렀는지도 확인하세요.' },
            { title: 'AI 초안이 보이지 않아요', description: 'AI 초안은 상황에 따라 제안됩니다. 출결 이상, 청구 관련 상황 등이 있을 때 자동으로 표시됩니다.' },
          ],
        },
      ],
    },
    {
      id: 'mobile',
      title: '모바일/태블릿에서 사용하기',
      type: 'screen',
      screenGroups: [
        {
          title: '모바일에서의 차이점',
          items: [
            { title: '탭 메뉴', description: '탭 버튼이 가로로 스크롤 가능하게 표시됩니다. 좌우로 스와이프하여 다른 탭을 선택할 수 있습니다.' },
            { title: '메시지 작성 폼', description: '화면 하단에서 위로 올라오는 형태로 표시됩니다. 작성 후 닫기 버튼을 누르면 사라집니다.' },
            { title: '템플릿 목록', description: '카드가 세로로 한 줄씩 표시되어 위아래로 스크롤하며 확인합니다.' },
          ],
        },
        {
          title: '태블릿에서의 차이점',
          items: [
            { title: '메시지 작성 폼', description: '화면 오른쪽에서 슬라이드되어 나타나는 형태로 표시됩니다.' },
            { title: '넓은 화면 활용', description: '템플릿 목록이 2열 또는 3열로 표시되어 한눈에 더 많은 템플릿을 볼 수 있습니다.' },
            { title: '터치 조작', description: '모든 버튼과 입력란은 터치로 쉽게 조작할 수 있도록 충분한 크기로 표시됩니다.' },
          ],
        },
      ],
    },
    {
      id: 'technical',
      title: '기술적 특징',
      type: 'technical',
      technicalFeatures: [
        'React Query 기반 데이터 캐싱 및 상태 관리',
        '카카오 알림톡 기본 발송, SMS 폴백 자동 처리',
        'Schema Registry 기반 동적 폼 생성 (SDUI)',
        'Execution Audit 기록을 통한 발송 이력 추적',
        'StudentTaskCard 기반 AI 초안 제안 시스템',
        'useResponsiveMode 훅 기반 반응형 레이아웃 (Mobile/Tablet/Desktop)',
        'tenant_settings KV 구조 기반 자동 알림 설정 저장',
        'CSS 변수 기반 디자인 시스템',
      ],
    },
  ],
};
